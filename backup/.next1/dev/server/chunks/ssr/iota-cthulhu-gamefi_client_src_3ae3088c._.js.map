{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,6MAAO,EAAC,IAAA,oLAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,8MAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,+MAAI,GAAG;IAE9B,qBACE,qRAAC;QACC,aAAU;QACV,gBAAc;QACd,aAAW;QACX,WAAW,IAAA,gKAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/shared/BGMPlayer.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Volume2, VolumeX } from \"lucide-react\";\n\nexport function BGMPlayer() {\n    const [isPlaying, setIsPlaying] = useState(true);\n    const audioRef = useRef<HTMLAudioElement | null>(null);\n    useEffect(() => {\n        const tryPlay = async () => { if (audioRef.current) { audioRef.current.volume = 0.3; try { await audioRef.current.play(); } catch (e) { setIsPlaying(false); const unlock = () => { if(audioRef.current){audioRef.current.play(); setIsPlaying(true); document.removeEventListener('click', unlock);} }; document.addEventListener('click', unlock); } } };\n        tryPlay();\n    }, []);\n    return (\n        <div className=\"fixed bottom-6 right-6 z-50\">\n            <audio ref={audioRef} src=\"/bgm.mp3\" loop />\n            <Button onClick={() => {if(audioRef.current){ if(isPlaying){audioRef.current.pause();setIsPlaying(false)}else{audioRef.current.play();setIsPlaying(true)} }}} variant=\"outline\" className={`rounded-full w-12 h-12 p-0 shadow-lg border-2 transition-all ${isPlaying ? \"bg-indigo-600 border-indigo-400 text-white animate-pulse\" : \"bg-slate-900 border-slate-600 text-slate-400\"}`}>\n                {isPlaying ? <Volume2 size={20} /> : <VolumeX size={20} />}\n            </Button>\n        </div>\n    );\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AAHA;;;;;AAKO,SAAS;IACZ,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wPAAQ,EAAC;IAC3C,MAAM,WAAW,IAAA,sPAAM,EAA0B;IACjD,IAAA,yPAAS,EAAC;QACN,MAAM,UAAU;YAAc,IAAI,SAAS,OAAO,EAAE;gBAAE,SAAS,OAAO,CAAC,MAAM,GAAG;gBAAK,IAAI;oBAAE,MAAM,SAAS,OAAO,CAAC,IAAI;gBAAI,EAAE,OAAO,GAAG;oBAAE,aAAa;oBAAQ,MAAM,SAAS;wBAAQ,IAAG,SAAS,OAAO,EAAC;4BAAC,SAAS,OAAO,CAAC,IAAI;4BAAI,aAAa;4BAAO,SAAS,mBAAmB,CAAC,SAAS;wBAAQ;oBAAE;oBAAG,SAAS,gBAAgB,CAAC,SAAS;gBAAS;YAAE;QAAE;QACzV;IACJ,GAAG,EAAE;IACL,qBACI,qRAAC;QAAI,WAAU;;0BACX,qRAAC;gBAAM,KAAK;gBAAU,KAAI;gBAAW,IAAI;;;;;;0BACzC,qRAAC,mLAAM;gBAAC,SAAS;oBAAO,IAAG,SAAS,OAAO,EAAC;wBAAE,IAAG,WAAU;4BAAC,SAAS,OAAO,CAAC,KAAK;4BAAG,aAAa;wBAAM,OAAK;4BAAC,SAAS,OAAO,CAAC,IAAI;4BAAG,aAAa;wBAAK;oBAAE;gBAAC;gBAAG,SAAQ;gBAAU,WAAW,CAAC,6DAA6D,EAAE,YAAY,6DAA6D,gDAAgD;0BAC/W,0BAAY,qRAAC,8PAAO;oBAAC,MAAM;;;;;yCAAS,qRAAC,8PAAO;oBAAC,MAAM;;;;;;;;;;;;;;;;;AAIpE"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/utils/constants.ts"],"sourcesContent":["// é€™æ˜¯å‰›å‰›éƒ¨ç½²å¾—åˆ°çš„ Package ID\nexport const PACKAGE_ID = \"0xa42fd9753810179c2d4dee5b2d3b832eefd5769658ea5d1a333247e68d983af2\";\n\n// æ¨¡çµ„åç¨± (Move æª”æ¡ˆè£¡çš„ module name)\nexport const MODULE_NAME = \"investigator\";\n\n// IOTA æ¸¬è©¦ç¶²çš„ç³»çµ±éš¨æ©Ÿæ•¸ç‰©ä»¶ ID (å›ºå®šä¸è®Š)\nexport const RANDOM_OBJECT_ID = \"0x8\";"],"names":[],"mappings":"AAAA,uBAAuB;;;;;;;;;AAChB,MAAM,aAAa;AAGnB,MAAM,cAAc;AAGpB,MAAM,mBAAmB"}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/utils/localization.ts"],"sourcesContent":["export type Lang = 'zh' | 'en';\n\nexport const TEXTS = {\n    zh: {\n        title: \"IOTA TRPGï¼šé€ƒé›¢è¡€æ±—è¾¦å…¬å¤§æ¨“\",\n        subtitle: \"åŸºæ–¼ IOTA å€å¡Šéˆçš„ç„¡é™åŠ ç­æ¨¡æ“¬å™¨\",\n        recruit_btn: \"+ æ‹›å‹Ÿæ–°ç¤¾ç•œ\",\n        list_title: \"ğŸ‘¥ å“¡å·¥åå–®\",\n        status_mad: \"ğŸ’€ éå‹æ­»\",\n        status_sane: \"SANå€¼\",\n        \n        // UI\n        demo_section: \"ğŸ› ï¸ æ¼”ç¤º / å£“åŠ›æ¸¬è©¦\", \n        exploration_section: \"ğŸ”¦ æ¢ç´¢è¡Œå‹•\",\n        career_end: \"ğŸšª è·æ¶¯çµ‚é»\",\n        act_resign_btn: \"ğŸ’” æäº¤é›¢è·ç”³è«‹ (éŠ·æ¯€NFT)\",\n\n        act_check: \"ğŸ² å–®æ¬¡æª¢å®š\",\n        act_batch: \"ğŸ”¥ ç˜‹ç‹‚é€£ç™¼ (x3)\",\n        act_quick: \"âš¡ å¿«é€Ÿé€šé—œ\",\n        act_quick_desc: \"è‡ªå‹•åŸ·è¡Œ (é©åˆåˆ·å¯¶)\",\n        act_manual: \"ğŸ–ï¸ æ²‰æµ¸é«”é©—\",\n        act_manual_desc: \"æ‰‹å‹•æ±ºç­– (RPæ¨¡å¼)\",\n        \n        choice_run: \"ğŸƒ é€ƒè·‘ (DEX)\",\n        choice_hide: \"ğŸ«£ èº²è— (LUK)\",\n        choice_gaze: \"ğŸ‘ï¸ å‡è¦– (POW)\",\n        warn_loop: \"âš ï¸ è¼ªè¿´ä¹‹ä¸­... è«‹é¸æ“‡\",\n        history_title: \"å†’éšªå±¥æ­·\",\n        rank_title: \"ğŸ† è¼ªè¿´æ’è¡Œæ¦œ (æœ€æ·±å±¤æ•¸)\",\n\n        claim_btn: \"ğŸ’° é ˜å–åŠ ç­è²» (Claim Salary)\",\n        claim_error: \"ğŸš« ç³»çµ±éŒ¯èª¤ï¼šå…¬å¸è²¡å‹™ç‹€æ³ä¸ä½³ï¼Œæš«åœå‡ºé‡‘ã€‚\",\n\n        cert_title: \"é›¢è·è­‰æ˜æ›¸\",\n        cert_content: \"èŒ²è­‰æ˜å“¡å·¥\",\n        cert_content2: \"æ–¼ç„¡é™è¿´å»Šä»»è·æœŸé–“ï¼Œé›–é£½å—ç²¾ç¥æŠ˜ç£¨ä½†ä»å‹‰å¼·å€–å­˜ã€‚\",\n        cert_stat_depth: \"æœ€çµ‚æ·±åº¦\",\n        cert_stat_mist: \"ç´¯ç© MIST\",\n        cert_stamp: \"å‡†äºˆé›¢è·\",\n        cert_dept: \"IOTA äººè³‡éƒ¨\",\n        cert_close: \"æ”¶ä¸‹è­‰æ›¸ (é—œé–‰)\",\n        \n        intro_lines: [\n            \"ä½ æ˜¯ä¸€åå¯æ†åŠ ç­çš„ç¤¾ç•œï¼Œä¸çŸ¥ä¸è¦ºå·²ç¶“åˆ°æ·±å¤œ......\",\n            \"ç•¶ä½ å›éç¥æ™‚ï¼Œå…¬å¸å·²ç¶“åœé›»ã€‚\",\n            \"é›»æ¢¯æ¯«ç„¡åæ‡‰ï¼Œä½ åªå¥½æ¨é–‹åšé‡çš„å®‰å…¨é–€ï¼Œèµ°å‘æœ‰ç¶ è‰²é€ƒç”Ÿæ¨™èªŒçš„æ¨“æ¢¯é–“ã€‚\",\n            \"è§’è½æ•£è½è‘—ä¸€äº›éºè½çš„æ–¹å½¢è–„æ¬¾åŒ…è£è¢‹ã€‚\",\n            \"ç°å¡µå‘³å¾ˆé‡ï¼Œä½ å¿ä¸ä½æ‰“äº†ä¸€å€‹å™´åšâ€”â€”\",\n            \"ã€Œå“ˆå•¾ï¼ã€\",\n            \"......å˜©å•¦ã€‚\",\n            \"èº«å¾Œçš„é˜²ç«é–€é‡é‡åœ°é—œä¸Šäº†ã€‚\",\n            \"å› ç‚ºå¤ªéæ˜æš—ï¼Œä½ å·²ç¶“æ‰¾ä¸åˆ°åŸæœ¬çš„é–€æŠŠæ‰‹ã€‚\",\n            \"åªå¥½ç¹¼çºŒå¾€ä¸‹èµ°ã€‚\",\n            \"ä½†æœ‰ä¸€ç¨®ä¸ç¥¥çš„é æ„Ÿï¼Œæ­£åƒå¢¨æ°´èˆ¬åœ¨ä½ å¿ƒåº•è”“å»¶......\"\n        ],\n        outro_madness: [\n            \"ä½ çš„æ„è­˜é–‹å§‹æ¨¡ç³Š...\",\n            \"æ¨“æ¢¯é–“çš„ç‰†å£é–‹å§‹è •å‹•ï¼Œè®Šæˆäº†è€é—†çš„è‡‰ã€‚\",\n            \"ã€Œæ˜å¤©è¨˜å¾—ææ—©ä¾†é–‹æœƒ...ã€\",\n            \"ä½ æ”¾æ£„äº†æ€è€ƒã€‚\",\n            \"ä½ æˆç‚ºäº†é€™æ£Ÿå¤§æ¨“çµæ§‹çš„ä¸€éƒ¨åˆ†ã€‚\",\n            \"æ°¸é ã€‚\"\n        ],\n        outro_escaped: [\n            \"æ–°é®®çš„ç©ºæ°£ï¼\",\n            \"ä½ æ¨é–‹äº†ä¸€æ¨“çš„å¤§é–€ï¼Œè­¦è¡›é©šè¨åœ°çœ‹è‘—ä½ ã€‚\",\n            \"è·¯ç‡ˆæ˜é»ƒï¼Œä½†è‡³å°‘æ˜¯çœŸå¯¦çš„ã€‚\",\n            \"ä½ å›é ­çœ‹äº†ä¸€çœ¼é‚£æ£Ÿæ¼†é»‘çš„å¤§æ¨“ã€‚\",\n            \"ã€Œçµ‚æ–¼å‡ºä¾†äº†...ã€\",\n            \"ä½ çœ‹äº†çœ‹æ‰‹æ©Ÿä¸Šçš„æ™‚é–“ã€‚\",\n            \"ã€Œè©²æ­»ï¼Œæ˜å¤©é‚„æ˜¯è¦ä¾†ä¸Šç­ã€‚ã€\"\n        ]\n    },\n    en: {\n        title: \"IOTA TRPG: Escape the Corporate Abyss\",\n        subtitle: \"Infinite Overtime Simulator on IOTA Chain\",\n        recruit_btn: \"+ Recruit Newbie\",\n        list_title: \"ğŸ‘¥ Staff List\",\n        status_mad: \"ğŸ’€ KIA (Overworked)\",\n        status_sane: \"Sanity\",\n        \n        demo_section: \"ğŸ› ï¸ Demo / Stress Test\",\n        exploration_section: \"ğŸ”¦ Exploration\",\n        career_end: \"ğŸšª Career End\",\n        act_resign_btn: \"ğŸ’” Submit Resignation (Burn NFT)\",\n\n        act_check: \"ğŸ² Single Check\",\n        act_batch: \"ğŸ”¥ Batch Check (x3)\",\n        act_quick: \"âš¡ Quick Run\",\n        act_quick_desc: \"Auto Play (Farming)\",\n        act_manual: \"ğŸ–ï¸ Immersive\",\n        act_manual_desc: \"Manual RP Mode\",\n        \n        choice_run: \"ğŸƒ Run (DEX)\",\n        choice_hide: \"ğŸ«£ Hide (LUK)\",\n        choice_gaze: \"ğŸ‘ï¸ Gaze (POW)\",\n        warn_loop: \"âš ï¸ In the Loop... Choose wisely\",\n        history_title: \"Adventure History\",\n        rank_title: \"ğŸ† Leaderboard (Max Depth)\",\n\n        claim_btn: \"ğŸ’° Claim Salary\",\n        claim_error: \"ğŸš« System Error: Corporate insolvency. Withdrawals suspended.\",\n\n        // ğŸ”¥ New: Certificate Texts\n        cert_title: \"Certificate of Release\",\n        cert_content: \"This certifies that Staff\",\n        cert_content2: \"has survived the infinite stairwell (barely).\",\n        cert_stat_depth: \"Final Depth\",\n        cert_stat_mist: \"Total MIST\",\n        cert_stamp: \"APPROVED\",\n        cert_dept: \"IOTA HR Dept.\",\n        cert_close: \"Accept & Close\",\n        \n        intro_lines: [\n            \"You are a poor corporate slave, working overtime late into the night...\",\n            \"When you snap out of it, the power is out.\",\n            \"The elevator is dead. You push open the heavy safety door to the stairwell.\",\n            \"Empty condom wrappers are scattered in the corner.\",\n            \"The dust is thick. You sneezeâ€”\",\n            \"\\\"Achoo!\\\"\",\n            \"...SLAM.\",\n            \"The fire door behind you slams shut.\",\n            \"It's too dark to find the handle.\",\n            \"You have no choice but to go down.\",\n            \"But an ominous feeling spreads in your heart like ink...\"\n        ],\n        outro_madness: [\n            \"Your consciousness begins to fade...\",\n            \"The walls of the stairwell start to writhe, turning into your boss's face.\",\n            \"\\\"Remember to come in early for the meeting tomorrow...\\\"\",\n            \"You stop thinking.\",\n            \"You become part of the building's structure.\",\n            \"Forever.\"\n        ],\n        outro_escaped: [\n            \"Fresh air!\",\n            \"You push open the lobby door. The security guard looks at you in shock.\",\n            \"The streetlights are dim, but real.\",\n            \"You look back at the pitch-black building.\",\n            \"\\\"Finally out...\\\"\",\n            \"You check the time on your phone.\",\n            \"\\\"Damn it. I still have to work tomorrow.\\\"\"\n        ]\n    }\n};\n\n// ğŸ”¥ ä¿®æ­£å¾Œçš„ Log æ˜ å°„è¡¨ (å®Œå…¨å°æ‡‰åˆç´„ V6.1 çš„å­—ä¸²)\nconst LOG_MAP: Record<string, string> = {\n    // --- Demo / Resign (ä¾†è‡ª resign, sanity_check, batch_sanity_check) ---\n    \"Single Check Initiated...\": \"ğŸ² ä½ é­å—ä¸»ç®¡çš„å£“åŠ›æ¸¬è©¦...\",\n    \"Failed! SAN damaged.\": \"âŒå®šå¤±æ•—ï¼ç†æ™ºå—æã€‚\",\n    \"Passed! You remain calm.\": \"âœ… æª¢å®šé€šéï¼ä½ ä¿æŒäº†å†·éœã€‚\",\n    \"BATCH CHECK (x3) START\": \"ğŸ”¥ ä½ é­å—ä¸»ç®¡çš„é«˜å¼·åº¦PUA...\",\n    \"-[Fail] SAN -2\": \"âš ï¸ [å¤±æ•—] ç²¾ç¥å—å‰µ (SAN -2)\",\n    \"-[Pass] Safe\": \"ğŸ›¡ï¸ [é€šé] å®‰å…¨éé—œ\",\n    \"Result: MADNESS CONSUMED YOU.\": \"ğŸ’€ çµæœï¼šéå‹æ­»ã€‚ä½ æ’ä¸ä½äº†ã€‚\",\n    \"Result: You survived the barrage.\": \"âœ¨ çµæœï¼šä½ æ’éäº†é€™æ³¢å°ˆæ¡ˆæ­»ç·šã€‚\",\n    \"Resigned (SBT Minted)\": \"ğŸ“ é›¢è·æ‰‹çºŒå·²å®Œæˆ (ç²å¾—ç´€å¿µç«  SBT)\",\n    \n    // --- Quick Mode (ä¾†è‡ª play_stairs_quick) ---\n    \"=== Quick Investigation ===\": \"ğŸ“œã€å¿«é€Ÿèª¿æŸ¥å ±å‘Šã€‘\",\n    \"Exhaustion... Your mind crumbles from fatigue.\": \"ğŸ’¤ ç²¾ç¥è€—å¼±... ä½ çš„è‚åœ¨å“€è™Ÿï¼Œå¿ƒæ™ºå´©æ½°ã€‚\",\n    \"> Rushed down successfully.\": \"ğŸƒ æˆåŠŸè¡ä¸‹æ¨“æ¢¯ã€‚\",\n    \"> Stumbled! (-5 SAN)\": \"ğŸ¤• è·Œå€’äº†ï¼(SAN -5)\",\n    \"Deeper... (Depth +1)\": \"â†˜ï¸ è¶Šä¾†è¶Šæ·±... (æ·±åº¦ +1)\",\n    \n    // --- Manual Mode (ä¾†è‡ª manual_start, manual_resolve) ---\n    // é€™è£¡å°±æ˜¯ä½ åŸæœ¬å°ä¸ä¸Šçš„åœ°æ–¹ï¼Œåˆç´„æŠŠå­—ä¸²ç¸®çŸ­äº†\n    \"You step into the stairwell...\": \"ğŸšª ä½ è¸å…¥äº†æ¨“æ¢¯é–“...\",\n    \"The air changes. What do you do?\": \"ç©ºæ°£è®Šäº†ã€‚ä½ è¦åšä»€éº¼ï¼Ÿ\",\n    \"Success. Deeper.\": \"âœ… æˆåŠŸã€‚ä½ å‰å¾€äº†ä¸‹ä¸€å±¤ã€‚\",\n    \"FAILURE.\": \"âŒ å¤±æ•—ã€‚é»‘æš—åå™¬äº†ä½ ã€‚\",\n    \n    // --- Visions (ä¾†è‡ª get_realm_vision) ---\n    // åˆç´„ä¹Ÿç¸®çŸ­äº†é€™é‚Šçš„æè¿°\n    \"[Vision: Human Realm] Rust and dust.\": \"ğŸ‘ï¸ã€å¹»è¦ºã€‘å……æ»¿éµé½èˆ‡ç°å¡µçš„å‘³é“ã€‚\",\n    \"[Vision: Deva Realm] Golden light.\": \"ğŸ‘ï¸ã€å¹»è¦ºã€‘è–å…‰ï¼è–å…‰é™è‡¨å•Šå•Šå•Š\",\n    \"[Vision: Asura Realm] Walls bleeding.\": \"ğŸ‘ï¸ã€å¹»è¦ºã€‘ç‰†å£æ­£åœ¨æ»²è¡€ã€‚\",\n    \"[Vision: Hungry Ghost Realm] Hands grabbing you.\": \"ğŸ‘ï¸ã€å¹»è¦ºã€‘ç„¡æ•¸éš»æ‰‹è©¦åœ–æŠ“ä½ä½ ã€‚\",\n    \"[Vision: Hell Realm] Absolute void.\": \"ğŸ‘ï¸ã€å¹»è¦ºã€‘çµ•å°çš„è™›ç„¡ã€‚\",\n    \n\n    // ğŸ”¥ğŸ”¥ğŸ”¥ æ–°å¢ï¼šå‰ç«¯æ¨¡æ“¬çš„é›¢è· Log (å°±æ˜¯ä½ å‰›å‰›çœ‹åˆ°çš„é‚£å¹¾å¥) ğŸ”¥ğŸ”¥ğŸ”¥\n    \"=== HR Department ===\": \"ğŸ¢ã€äººè³‡éƒ¨é–€é€šçŸ¥ã€‘\",\n    \"Resignation letter received.\": \"âœ… å·²æ”¶åˆ°æ‚¨çš„é›¢è·ç”³è«‹æ›¸ã€‚\",\n    \"NFT Access Card destroyed.\": \"ğŸ’³ å“¡å·¥è­˜åˆ¥è­‰ (NFT) å·²éŠ·æ¯€ã€‚\",\n    \"You are free.\": \"ğŸ•Šï¸ ä½ è‡ªç”±äº†ã€‚(è¨˜å¾—ç¹³å›å…¬å¸ç­†é›»)\",\n    \n};\n\nexport const processLog = (text: string, lang: Lang): string => {\n    if (!text) return \"\";\n    \n    if (lang === 'en') {\n        return text\n            .replace(\"=== Quick Investigation ===\", \"ğŸ“œ [Quick Report]\")\n            .replace(\"Escaped\", \"Escaped ğŸšª\")\n            .replace(\"Looping\", \"Looping ğŸ”„\")\n            .replace(\"MADNESS\", \"MENTAL BREAKDOWN ğŸ’€\");\n    }\n\n    // 1. ç²¾ç¢ºæŸ¥è¡¨ (å„ªå…ˆ)\n    if (LOG_MAP[text]) return LOG_MAP[text];\n\n    // 2. æ¨¡ç³Š/è®Šæ•¸è™•ç†\n    let t = text;\n    \n    // çµå±€è™•ç† (å› ç‚ºåˆç´„é€™äº›æ˜¯ hardcoded ä½†å¯èƒ½æœƒæ··åœ¨å…¶ä»– log è£¡)\n    if (t.includes(\"Result: Mind Shattered\")) return \"ğŸ’€ çµæœï¼šå¿ƒæ™ºç ´ç¢ã€‚\";\n    if (t.includes(\"Result: You found the exit\")) return \"ğŸ‰ çµæœï¼šä½ æ‰¾åˆ°äº†å‡ºå£ï¼\";\n    if (t.includes(\"It was a trap.\")) return \"ğŸ”„ é‚£æ˜¯é™·é˜±ã€‚ä½ åˆå›åˆ°äº†åŸé»ã€‚\";\n    \n    // é€šç”¨æ›¿æ›\n    t = t.replace(\"Escaped\", \"æ‰“å¡ä¸‹ç­\")\n         .replace(\"Looping\", \"ç„¡é™åŠ ç­\")\n         .replace(\"MADNESS\", \"éå‹æ­»(ç²¾ç¥å´©æ½°)\")\n         .replace(\"Staff #\", \"å“¡å·¥ç·¨è™Ÿ #\");\n\n    return t;\n};"],"names":[],"mappings":"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"}},
    {"offset": {"line": 385, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/shared/CinematicText.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\n\nexport function CinematicText({ lines, onComplete, isMadness = false }: { lines: string[], onComplete: () => void, isMadness?: boolean }) {\n    const [index, setIndex] = useState(0);\n    const [opacity, setOpacity] = useState(0);\n    useEffect(() => {\n        setTimeout(() => setOpacity(1), 100);\n        const readTime = Math.max(2000, lines[index].length * 150);\n        const timer = setTimeout(() => {\n            setOpacity(0);\n            setTimeout(() => { if (index < lines.length - 1) setIndex(prev => prev + 1); else onComplete(); }, 1000);\n        }, readTime);\n        return () => clearTimeout(timer);\n    }, [index]);\n    return (\n        <div className=\"fixed inset-0 z-[100] bg-black flex flex-col items-center justify-center p-8 cursor-pointer\" onClick={onComplete}>\n            <div className={`text-xl md:text-2xl font-serif tracking-widest leading-loose text-center transition-opacity duration-1000 ${isMadness ? \"text-red-600 font-bold animate-pulse\" : \"text-slate-200\"}`} style={{ opacity: opacity }}>{lines[index]}</div>\n            <div className=\"absolute bottom-10 text-slate-600 text-xs animate-pulse\">(Click to skip)</div>\n        </div>\n    );\n}"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGO,SAAS,cAAc,EAAE,KAAK,EAAE,UAAU,EAAE,YAAY,KAAK,EAAoE;IACpI,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wPAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wPAAQ,EAAC;IACvC,IAAA,yPAAS,EAAC;QACN,WAAW,IAAM,WAAW,IAAI;QAChC,MAAM,WAAW,KAAK,GAAG,CAAC,MAAM,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG;QACtD,MAAM,QAAQ,WAAW;YACrB,WAAW;YACX,WAAW;gBAAQ,IAAI,QAAQ,MAAM,MAAM,GAAG,GAAG,SAAS,CAAA,OAAQ,OAAO;qBAAS;YAAc,GAAG;QACvG,GAAG;QACH,OAAO,IAAM,aAAa;IAC9B,GAAG;QAAC;KAAM;IACV,qBACI,qRAAC;QAAI,WAAU;QAA8F,SAAS;;0BAClH,qRAAC;gBAAI,WAAW,CAAC,0GAA0G,EAAE,YAAY,yCAAyC,kBAAkB;gBAAE,OAAO;oBAAE,SAAS;gBAAQ;0BAAI,KAAK,CAAC,MAAM;;;;;;0BAChP,qRAAC;gBAAI,WAAU;0BAA0D;;;;;;;;;;;;AAGrF"}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,qRAAC;QACC,aAAU;QACV,WAAW,IAAA,gKAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,qRAAC;QACC,aAAU;QACV,WAAW,IAAA,gKAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,qRAAC;QACC,aAAU;QACV,WAAW,IAAA,gKAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,qRAAC;QACC,aAAU;QACV,WAAW,IAAA,gKAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,qRAAC;QACC,aAAU;QACV,WAAW,IAAA,gKAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,qRAAC;QACC,aAAU;QACV,WAAW,IAAA,gKAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,qRAAC;QACC,aAAU;QACV,WAAW,IAAA,gKAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 547, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/game/HistorySection.tsx"],"sourcesContent":["\"use client\";\n\nimport { Scroll, Clock } from \"lucide-react\";\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\nimport { processLog, Lang } from \"@/utils/localization\"; // è¨˜å¾— import processLog\n\nexport function HistorySection({ history, lang }: { history: any[], lang: Lang }) {\n    return (\n        <Card className=\"bg-slate-900/90 border-slate-700 shadow-xl backdrop-blur-sm h-[400px] flex flex-col\">\n            <CardHeader className=\"bg-slate-950/80 border-b border-slate-800 pb-3\">\n                <CardTitle className=\"text-slate-200 text-sm flex items-center gap-2\">\n                    <Scroll size={16} className=\"text-indigo-400\"/> {lang === 'zh' ? 'å†’éšªæ—¥èªŒ' : 'Adventure Logs'}\n                </CardTitle>\n            </CardHeader>\n            <CardContent className=\"flex-1 overflow-y-auto p-0 custom-scrollbar\">\n                {history.length === 0 ? (\n                    <div className=\"h-full flex flex-col items-center justify-center text-slate-600 text-xs\">\n                        No records found.\n                    </div>\n                ) : (\n                    <div className=\"divide-y divide-slate-800\">\n                        {history.map((entry: any, i: number) => (\n                            <div key={i} className=\"p-4 hover:bg-slate-800/30 transition-colors\">\n                                <div className=\"flex justify-between items-start mb-2\">\n                                    <div className=\"flex flex-col\">\n                                        <span className={`text-xs font-bold uppercase tracking-wider px-2 py-0.5 rounded w-fit ${\n                                            entry.outcome === 'Madness' ? 'bg-red-900/30 text-red-400' : \n                                            entry.outcome === 'Escaped' ? 'bg-emerald-900/30 text-emerald-400' : \n                                            entry.outcome === 'Resigned' ? 'bg-gray-700 text-gray-300' :\n                                            'bg-indigo-900/30 text-indigo-300'\n                                        }`}>\n                                            {entry.outcome}\n                                        </span>\n                                        {/* ğŸ”¥ é¡¯ç¤ºè§’è‰²åç¨± */}\n                                        {entry.investigatorName && (\n                                            <span className=\"text-[10px] text-slate-500 mt-1 font-mono\">\n                                                {entry.investigatorName}\n                                            </span>\n                                        )}\n                                    </div>\n                                    <span className=\"text-[10px] text-slate-600 flex items-center gap-1\">\n                                        <Clock size={10}/> {new Date(entry.timestamp).toLocaleTimeString()}\n                                    </span>\n                                </div>\n                                <div className=\"space-y-1\">\n                                    {entry.logs.slice(0, 3).map((log: string, j: number) => (\n                                        <p key={j} className=\"text-xs text-slate-400 font-mono line-clamp-1\">\n                                            {processLog(log, lang)}\n                                        </p>\n                                    ))}\n                                    {entry.logs.length > 3 && <p className=\"text-[10px] text-slate-600 italic\">... +{entry.logs.length - 3} more</p>}\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                )}\n            </CardContent>\n        </Card>\n    );\n}"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA,4RAAyD,uBAAuB;AAJhF;;;;;AAMO,SAAS,eAAe,EAAE,OAAO,EAAE,IAAI,EAAkC;IAC5E,qBACI,qRAAC,+KAAI;QAAC,WAAU;;0BACZ,qRAAC,qLAAU;gBAAC,WAAU;0BAClB,cAAA,qRAAC,oLAAS;oBAAC,WAAU;;sCACjB,qRAAC,uPAAM;4BAAC,MAAM;4BAAI,WAAU;;;;;;wBAAmB;wBAAE,SAAS,OAAO,SAAS;;;;;;;;;;;;0BAGlF,qRAAC,sLAAW;gBAAC,WAAU;0BAClB,QAAQ,MAAM,KAAK,kBAChB,qRAAC;oBAAI,WAAU;8BAA0E;;;;;yCAIzF,qRAAC;oBAAI,WAAU;8BACV,QAAQ,GAAG,CAAC,CAAC,OAAY,kBACtB,qRAAC;4BAAY,WAAU;;8CACnB,qRAAC;oCAAI,WAAU;;sDACX,qRAAC;4CAAI,WAAU;;8DACX,qRAAC;oDAAK,WAAW,CAAC,qEAAqE,EACnF,MAAM,OAAO,KAAK,YAAY,+BAC9B,MAAM,OAAO,KAAK,YAAY,uCAC9B,MAAM,OAAO,KAAK,aAAa,8BAC/B,oCACF;8DACG,MAAM,OAAO;;;;;;gDAGjB,MAAM,gBAAgB,kBACnB,qRAAC;oDAAK,WAAU;8DACX,MAAM,gBAAgB;;;;;;;;;;;;sDAInC,qRAAC;4CAAK,WAAU;;8DACZ,qRAAC,oPAAK;oDAAC,MAAM;;;;;;gDAAK;gDAAE,IAAI,KAAK,MAAM,SAAS,EAAE,kBAAkB;;;;;;;;;;;;;8CAGxE,qRAAC;oCAAI,WAAU;;wCACV,MAAM,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,KAAa,kBACtC,qRAAC;gDAAU,WAAU;0DAChB,IAAA,iLAAU,EAAC,KAAK;+CADb;;;;;wCAIX,MAAM,IAAI,CAAC,MAAM,GAAG,mBAAK,qRAAC;4CAAE,WAAU;;gDAAoC;gDAAM,MAAM,IAAI,CAAC,MAAM,GAAG;gDAAE;;;;;;;;;;;;;;2BA5BrG;;;;;;;;;;;;;;;;;;;;;AAqCtC"}},
    {"offset": {"line": 713, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/game/LeaderboardSection.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Trophy } from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport { PACKAGE_ID, MODULE_NAME } from \"@/utils/constants\";\nimport { TEXTS, Lang } from \"@/utils/localization\";\n\nexport function LeaderboardSection({ client, lang }: { client: any, lang: Lang }) {\n    const [scores, setScores] = useState<any[]>([]);\n    \n    const fetchLeaderboard = async () => { \n        try { \n            const events = await client.queryEvents({ query: { MoveModule: { package: PACKAGE_ID, module: MODULE_NAME } } }); \n            const rawScores = events.data.filter((e: any) => e.type.includes(\"ScoreEvent\")).map((e: any) => e.parsedJson).sort((a: any, b: any) => Number(b.depth) - Number(a.depth)).slice(0, 10); \n            setScores(rawScores); \n        } catch (e) { } \n    };\n    \n    useEffect(() => { fetchLeaderboard(); }, []);\n    \n    const handleClaim = () => { \n        toast.error(TEXTS[lang].claim_error, { duration: 4000, style: { border: '1px solid #ef4444', background: '#220000', color: '#fca5a5' } }); \n    };\n    \n    return (\n        <Card className=\"mt-6 bg-slate-900/80 border-amber-600/30 backdrop-blur-sm\">\n            <CardHeader><CardTitle className=\"flex justify-between text-amber-500\"><span className=\"flex gap-2\"><Trophy className=\"w-5 h-5\"/> {TEXTS[lang].rank_title}</span><div className=\"flex gap-2\"><Button variant=\"outline\" size=\"sm\" onClick={handleClaim} className=\"h-6 text-xs bg-yellow-900/30 border-yellow-600/50 text-yellow-400 hover:bg-yellow-900/60\">ğŸ’° {TEXTS[lang].claim_btn}</Button><Button variant=\"ghost\" size=\"sm\" onClick={fetchLeaderboard}>ğŸ”„</Button></div></CardTitle></CardHeader>\n            <CardContent><div className=\"space-y-2\">{scores.map((score, idx) => (<div key={idx} className=\"flex justify-between items-center bg-black/40 p-2 px-4 rounded border border-slate-800\"><div className=\"flex items-center gap-3\"><span className=\"font-bold font-mono text-yellow-400\">#{idx+1}</span><span className=\"text-slate-200\">{score.name}</span></div><div className=\"flex items-center gap-4\"><span className={`text-xs px-2 py-0.5 rounded ${score.outcome===\"Madness\"?\"bg-red-900/50 text-red-400\":\"bg-green-900/50 text-green-400\"}`}>{score.outcome === \"Madness\" ? (lang==='zh'?\"ğŸ’€ éå‹\":\"ğŸ’€ Dead\") : (lang==='zh'?\"ğŸšª ä¸‹ç­\":\"ğŸšª Out\")}</span><span className=\"text-amber-500 font-bold\">{score.depth} F</span></div></div>))}</div></CardContent>\n        </Card>\n    );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AAEO,SAAS,mBAAmB,EAAE,MAAM,EAAE,IAAI,EAA+B;IAC5E,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,wPAAQ,EAAQ,EAAE;IAE9C,MAAM,mBAAmB;QACrB,IAAI;YACA,MAAM,SAAS,MAAM,OAAO,WAAW,CAAC;gBAAE,OAAO;oBAAE,YAAY;wBAAE,SAAS,8KAAU;wBAAE,QAAQ,+KAAW;oBAAC;gBAAE;YAAE;YAC9G,MAAM,YAAY,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,IAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,eAAe,GAAG,CAAC,CAAC,IAAW,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC,GAAQ,IAAW,OAAO,EAAE,KAAK,IAAI,OAAO,EAAE,KAAK,GAAG,KAAK,CAAC,GAAG;YACnL,UAAU;QACd,EAAE,OAAO,GAAG,CAAE;IAClB;IAEA,IAAA,yPAAS,EAAC;QAAQ;IAAoB,GAAG,EAAE;IAE3C,MAAM,cAAc;QAChB,wLAAK,CAAC,KAAK,CAAC,4KAAK,CAAC,KAAK,CAAC,WAAW,EAAE;YAAE,UAAU;YAAM,OAAO;gBAAE,QAAQ;gBAAqB,YAAY;gBAAW,OAAO;YAAU;QAAE;IAC3I;IAEA,qBACI,qRAAC,+KAAI;QAAC,WAAU;;0BACZ,qRAAC,qLAAU;0BAAC,cAAA,qRAAC,oLAAS;oBAAC,WAAU;;sCAAsC,qRAAC;4BAAK,WAAU;;8CAAa,qRAAC,uPAAM;oCAAC,WAAU;;;;;;gCAAW;gCAAE,4KAAK,CAAC,KAAK,CAAC,UAAU;;;;;;;sCAAQ,qRAAC;4BAAI,WAAU;;8CAAa,qRAAC,mLAAM;oCAAC,SAAQ;oCAAU,MAAK;oCAAK,SAAS;oCAAa,WAAU;;wCAA2F;wCAAI,4KAAK,CAAC,KAAK,CAAC,SAAS;;;;;;;8CAAU,qRAAC,mLAAM;oCAAC,SAAQ;oCAAQ,MAAK;oCAAK,SAAS;8CAAkB;;;;;;;;;;;;;;;;;;;;;;;0BAC5b,qRAAC,sLAAW;0BAAC,cAAA,qRAAC;oBAAI,WAAU;8BAAa,OAAO,GAAG,CAAC,CAAC,OAAO,oBAAS,qRAAC;4BAAc,WAAU;;8CAAyF,qRAAC;oCAAI,WAAU;;sDAA0B,qRAAC;4CAAK,WAAU;;gDAAsC;gDAAE,MAAI;;;;;;;sDAAS,qRAAC;4CAAK,WAAU;sDAAkB,MAAM,IAAI;;;;;;;;;;;;8CAAc,qRAAC;oCAAI,WAAU;;sDAA0B,qRAAC;4CAAK,WAAW,CAAC,4BAA4B,EAAE,MAAM,OAAO,KAAG,YAAU,+BAA6B,kCAAkC;sDAAG,MAAM,OAAO,KAAK,YAAa,SAAO,OAAK,UAAQ,YAAc,SAAO,OAAK,UAAQ;;;;;;sDAAiB,qRAAC;4CAAK,WAAU;;gDAA4B,MAAM,KAAK;gDAAC;;;;;;;;;;;;;;2BAAnmB;;;;;;;;;;;;;;;;;;;;;AAG3F"}},
    {"offset": {"line": 919, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 923, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/GameDashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCurrentAccount, useSignAndExecuteTransaction, useIotaClient } from \"@iota/dapp-kit\";\nimport { Transaction } from \"@iota/iota-sdk/transactions\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { toast } from \"sonner\";\nimport { PACKAGE_ID, MODULE_NAME, RANDOM_OBJECT_ID } from \"@/utils/constants\";\nimport { TEXTS, processLog, Lang } from \"@/utils/localization\";\nimport { CinematicText } from \"@/components/shared/CinematicText\";\nimport { HistorySection } from \"@/components/game/HistorySection\";\nimport { LeaderboardSection } from \"@/components/game/LeaderboardSection\";\nimport { SimulationView } from \"@/components/game/SimulationView\";\nimport { Button } from \"@/components/ui/button\";\nimport { FileText, Stamp } from \"lucide-react\";\n\nimport {\n  Chart as ChartJS, RadialLinearScale, PointElement, LineElement, Filler, Tooltip, Legend, ArcElement, CategoryScale, LinearScale, BarElement\n} from 'chart.js';\nChartJS.register(RadialLinearScale, PointElement, LineElement, Filler, Tooltip, Legend, ArcElement, CategoryScale, LinearScale, BarElement);\n\n// --- AdventureOverlay (ä¿æŒä¸è®Š) ---\nfunction AdventureOverlay({ logs, onClose, outcome, lang }: { logs: string[], onClose: (ended: boolean, outcome: string) => void, outcome: string, lang: Lang }) {\n    const [displayLogs, setDisplayLogs] = useState<string[]>([]);\n    const [currentIndex, setCurrentIndex] = useState(0);\n    const bottomRef = useRef<HTMLDivElement>(null);\n    useEffect(() => { if (currentIndex < logs.length) { const timer = setTimeout(() => { setDisplayLogs(prev => [...prev, processLog(logs[currentIndex], lang)]); setCurrentIndex(prev => prev + 1); }, 800); return () => clearTimeout(timer); } }, [currentIndex, logs]);\n    useEffect(() => { bottomRef.current?.scrollIntoView({ behavior: \"smooth\" }); }, [displayLogs]);\n    const isFinished = currentIndex >= logs.length;\n    const isFinalEnding = outcome === \"MADNESS\" || outcome === \"Escaped\" || outcome === \"Madness\" || outcome === \"Resigned\";\n    return (\n        <div className=\"fixed inset-0 z-50 bg-black/95 flex flex-col items-center justify-center p-6 animate-in fade-in duration-300\">\n            <div className=\"max-w-2xl w-full h-[80vh] flex flex-col gap-4 border-x border-slate-800 bg-slate-950/50\">\n                <div className=\"p-4 border-b border-slate-800 bg-slate-900\"><h2 className=\"text-xl font-mono text-green-500 flex items-center gap-2\"><span className=\"animate-pulse\">â—</span> TRPG LOG</h2></div>\n                <div className=\"flex-1 overflow-y-auto p-6 font-mono text-base space-y-4 custom-scrollbar\">\n                    {displayLogs.map((log, idx) => (<div key={idx} className=\"border-l-2 border-slate-700 pl-4 py-2 animate-in slide-in-from-left-2 fade-in\"><span className=\"text-slate-300\">{log}</span></div>))}\n                    <div ref={bottomRef} />\n                </div>\n                {isFinished && <div className=\"p-6 border-t border-slate-800 flex justify-center bg-slate-900\"><Button onClick={() => onClose(isFinalEnding, outcome)} className=\"w-full max-w-sm bg-slate-100 text-black hover:bg-white font-bold text-lg h-12\">{outcome === \"Looping\" ? \"ğŸ”„ Continue\" : \"ğŸšª Close\"}</Button></div>}\n            </div>\n        </div>\n    );\n}\n\n// --- é›¢è·è­‰æ›¸çµ„ä»¶ (è®€å– SBT è³‡æ–™) ---\nfunction ResignationCertificate({ data, onClose, t }: { data: any, onClose: () => void, t: any }) {\n    if (!data) return null;\n\n    // å…¼å®¹ï¼šå¦‚æœæ˜¯ SBT (final_depth) æˆ– NFT (loop_depth)\n    const depth = data.final_depth !== undefined ? data.final_depth : data.loop_depth;\n    const exp = data.career_exp !== undefined ? data.career_exp : data.exp;\n\n    return (\n        <div className=\"fixed inset-0 z-[60] bg-black/90 flex items-center justify-center p-4 animate-in fade-in duration-500 backdrop-blur-sm\">\n            <div className=\"bg-[#fdfbf7] text-slate-900 w-full max-w-md p-8 shadow-2xl relative transform rotate-1 animate-in zoom-in-95 duration-500 border border-slate-300\">\n                <div className=\"absolute inset-2 border-2 border-double border-slate-800 pointer-events-none\"></div>\n                <div className=\"text-center font-serif space-y-6 pt-4 relative z-10\">\n                    <div className=\"flex justify-center text-slate-800 mb-2\"><FileText size={48} strokeWidth={1} /></div>\n                    <h1 className=\"text-3xl font-bold border-b-2 border-slate-800 pb-4 inline-block px-8 tracking-widest\">{t.cert_title}</h1>\n                    <div className=\"text-lg leading-relaxed text-slate-700\">\n                        <p>{t.cert_content}</p>\n                        <p className=\"text-2xl font-bold my-2 text-indigo-900 font-mono bg-slate-100 py-1\">{data.name}</p>\n                        <p>{t.cert_content2}</p>\n                    </div>\n                    <div className=\"grid grid-cols-2 gap-4 text-sm border-t border-dashed border-slate-400 pt-4 mt-4\">\n                        <div className=\"text-right text-slate-500\">{t.cert_stat_depth}:</div>\n                        <div className=\"text-left font-bold font-mono text-xl\">B{depth}F</div>\n                        <div className=\"text-right text-slate-500\">{t.cert_stat_mist}:</div>\n                        <div className=\"text-left font-bold font-mono text-xl\">{exp}</div>\n                    </div>\n                    <div className=\"flex justify-end mt-8 pt-4 relative\">\n                        <div className=\"absolute -top-6 right-8 transform rotate-[-15deg] opacity-90 animate-in zoom-in duration-300 delay-500\">\n                            <div className=\"border-4 border-red-700 text-red-700 px-4 py-2 font-black text-xl tracking-widest uppercase rounded-sm flex items-center gap-2 shadow-sm\" style={{mixBlendMode: 'multiply'}}>\n                                <Stamp size={24}/> {t.cert_stamp}\n                            </div>\n                            <div className=\"text-red-700/80 text-[10px] text-center mt-1 font-bold\">{t.cert_dept}</div>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"mt-12\">\n                    <Button onClick={onClose} className=\"w-full bg-slate-900 text-white hover:bg-slate-800 h-12 font-bold tracking-wide shadow-lg\">{t.cert_close}</Button>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport function GameDashboard({ lang }: { lang: Lang }) {\n  const account = useCurrentAccount();\n  const client = useIotaClient();\n  const { mutate: signAndExecuteTransaction } = useSignAndExecuteTransaction();\n\n  const [loading, setLoading] = useState(false);\n  const [investigators, setInvestigators] = useState<any[]>([]);\n  const [memorials, setMemorials] = useState<any[]>([]); // ğŸ”¥ æ–°å¢ï¼šSBT åˆ—è¡¨\n  const [selectedId, setSelectedId] = useState<string | null>(null);\n  \n  const [adventureData, setAdventureData] = useState<any>(null); \n  const [viewingCert, setViewingCert] = useState<any>(null); // ğŸ”¥ æ–°å¢ï¼šæ­£åœ¨æŸ¥çœ‹å“ªå¼µè­‰æ›¸\n  \n  const [showIntro, setShowIntro] = useState(true);\n  const [outroType, setOutroType] = useState<any>(\"none\");\n  \n  const STORAGE_KEY = `iota_trpg_history_${PACKAGE_ID}`; \n  const [history, setHistory] = useState<any[]>([]);\n\n  useEffect(() => { \n      const saved = localStorage.getItem(STORAGE_KEY); \n      if (saved) try { setHistory(JSON.parse(saved)); } catch (e) {} \n  }, []);\n\n  const currentInvestigator = investigators.find(i => i.id === selectedId);\n  const t = TEXTS[lang]; \n\n  const addToHistory = (logs: string[], outcome: string) => { \n      if (!currentInvestigator) return;\n      const newEntry = { \n          id: crypto.randomUUID(), \n          timestamp: Date.now(), \n          logs, \n          outcome,\n          investigatorId: currentInvestigator.id, \n          investigatorName: currentInvestigator.name \n      }; \n      const newHistory = [newEntry, ...history]; \n      setHistory(newHistory); \n      localStorage.setItem(STORAGE_KEY, JSON.stringify(newHistory)); \n  };\n\n  // ğŸ”¥ æ ¸å¿ƒä¿®æ”¹ï¼šåŒæ™‚æŠ“å– Investigator å’Œ MemorialSBT\n  const fetchData = async () => {\n    if (!account) return;\n    const objects = await client.getOwnedObjects({ owner: account.address, options: { showType: true, showContent: true } });\n    \n    const investType = `${PACKAGE_ID}::${MODULE_NAME}::Investigator`;\n    const sbtType = `${PACKAGE_ID}::${MODULE_NAME}::MemorialSBT`;\n\n    const activeList: any[] = [];\n    const resignedList: any[] = [];\n\n    objects.data.forEach((obj) => {\n        if (obj.data?.content?.dataType === \"moveObject\") {\n            const type = obj.data.type;\n            const fields = { ...obj.data.content.fields, id: obj.data.objectId };\n            \n            if (type === investType) activeList.push(fields);\n            else if (type === sbtType) resignedList.push(fields);\n        }\n    });\n\n    setInvestigators(activeList);\n    setMemorials(resignedList);\n\n    // å¦‚æœæ²’æœ‰é¸ä¸­äººï¼Œä¸”æœ‰ç¾è·å“¡å·¥ï¼Œé è¨­é¸ç¬¬ä¸€å€‹\n    if (!selectedId && activeList.length > 0) setSelectedId(activeList[0].id);\n  };\n\n  useEffect(() => { fetchData(); }, [account]);\n\n  const executeScenarioTx = async (tx: Transaction) => { \n      setLoading(true); \n      tx.setGasBudget(100000000); \n      signAndExecuteTransaction({ transaction: tx, options: { showEffects: true, showEvents: true } }, { \n          onSuccess: async (result) => { \n              let events = result.events || []; \n              if (events.length === 0) { \n                  await new Promise(r => setTimeout(r, 2000)); \n                  try { const r = await client.getTransactionBlock({ digest: result.digest, options: { showEvents: true, showEffects: true } }); events = r.events || []; } catch (e) {} \n              } \n              const event = events.find(e => e.type.includes(\"ScenarioEvent\")); \n              if (event) { \n                  setAdventureData({ logs: event.parsedJson?.logs, outcome: event.parsedJson?.outcome }); \n                  addToHistory(event.parsedJson?.logs, event.parsedJson?.outcome); \n              } \n              setLoading(false); \n          }, \n          onError: (e) => { toast.error(e.message); setLoading(false); } \n      }); \n  };\n  \n  const mint = () => { const tx = new Transaction(); tx.moveCall({ target: `${PACKAGE_ID}::${MODULE_NAME}::mint`, arguments: [ tx.object(RANDOM_OBJECT_ID), tx.pure.vector(\"u8\", Array.from(new TextEncoder().encode(\"Staff #\" + Math.floor(Math.random()*9000+1000)))) ] }); tx.setGasBudget(50000000); signAndExecuteTransaction({ transaction: tx, options: { showEffects: true, showEvents: true } }, { onSuccess: () => { setLoading(false); setTimeout(fetchData, 1000); setShowIntro(true); }, onError: (err) => { toast.error(err.message); setLoading(false); } }); };\n  \n  // é›¢è·é‚è¼¯\n  const resign = () => {\n      if (!currentInvestigator) return;\n      const tx = new Transaction();\n      tx.moveCall({ target: `${PACKAGE_ID}::${MODULE_NAME}::resign`, arguments: [tx.object(currentInvestigator.id)] });\n      tx.setGasBudget(50000000);\n      signAndExecuteTransaction({ transaction: tx, options: { showEffects: true, showEvents: true } }, {\n          onSuccess: (result) => { \n              setLoading(false); \n              toast.success(lang === 'zh' ? \"é›¢è·æ‰‹çºŒå·²å®Œæˆ (NFT éŠ·æ¯€)\" : \"Resignation Accepted (NFT Burned)\");\n              \n              const logs = [\"=== HR Department ===\", \"Resignation letter received.\", \"NFT Access Card destroyed.\", \"You are free.\"];\n              addToHistory(logs, \"Resigned\"); \n              \n              // äº¤æ˜“æˆåŠŸå¾Œï¼Œé‡æ–°æŠ“å–åˆ—è¡¨ (æ–°çš„ SBT å°±æœƒå‡ºç¾)\n              setTimeout(() => { \n                  fetchData(); \n                  setSelectedId(null); \n              }, 1000);\n          },\n          onError: (err) => { toast.error(err.message); setLoading(false); }\n      });\n  };\n\n  const singleSanityCheck = () => { if(!currentInvestigator) return; const tx = new Transaction(); tx.moveCall({target:`${PACKAGE_ID}::${MODULE_NAME}::sanity_check`, arguments:[tx.object(currentInvestigator.id), tx.object(RANDOM_OBJECT_ID)]}); executeScenarioTx(tx); };\n  const batchSanityCheck = () => { if(!currentInvestigator) return; const tx = new Transaction(); tx.moveCall({target:`${PACKAGE_ID}::${MODULE_NAME}::batch_sanity_check`, arguments:[tx.object(currentInvestigator.id), tx.object(RANDOM_OBJECT_ID)]}); executeScenarioTx(tx); };\n  const playQuick = () => { if(!currentInvestigator)return; const tx = new Transaction(); tx.moveCall({target:`${PACKAGE_ID}::${MODULE_NAME}::play_stairs_quick`,arguments:[tx.object(currentInvestigator.id),tx.object(RANDOM_OBJECT_ID)]}); executeScenarioTx(tx); };\n  const playManualStart = () => { if(!currentInvestigator)return; const tx = new Transaction(); tx.moveCall({target:`${PACKAGE_ID}::${MODULE_NAME}::manual_start`,arguments:[tx.object(currentInvestigator.id),tx.object(RANDOM_OBJECT_ID)]}); executeScenarioTx(tx); };\n  const playManualAction = (c:number) => { if(!currentInvestigator)return; const tx = new Transaction(); tx.moveCall({target:`${PACKAGE_ID}::${MODULE_NAME}::manual_resolve`,arguments:[tx.object(currentInvestigator.id),tx.object(RANDOM_OBJECT_ID),tx.pure.u8(c)]}); executeScenarioTx(tx); };\n  const getImageUrl = (inv: any) => inv?.is_mad ? \"/images/madness.png\" : \"/images/investigator.png\";\n\n  return (\n      <>\n          {showIntro && <CinematicText lines={t.intro_lines} onComplete={() => setShowIntro(false)} />}\n          {outroType !== \"none\" && <CinematicText lines={outroType===\"madness\"?t.outro_madness:t.outro_escaped} onComplete={() => setOutroType(\"none\")} isMadness={outroType===\"madness\"} />}\n          \n          {adventureData && <AdventureOverlay logs={adventureData.logs} outcome={adventureData.outcome} lang={lang} onClose={(ended: boolean, outcome: string) => { setAdventureData(null); fetchData(); if (ended) setOutroType(outcome.toLowerCase().includes(\"mad\")?\"madness\":\"escaped\"); }} />}\n          \n          {/* ğŸ”¥ é›¢è·è­‰æ›¸ (é»æ“Šåˆ—è¡¨ SBT æ™‚è§¸ç™¼) */}\n          {viewingCert && <ResignationCertificate data={viewingCert} t={t} onClose={() => setViewingCert(null)} />}\n\n          <div className=\"max-w-6xl mx-auto mt-8 px-4 pb-20 animate-in fade-in zoom-in-95 duration-500\">\n              <div className=\"text-center mb-8\"><h1 className=\"text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-indigo-600 font-serif tracking-widest uppercase mb-2\">{t.title}</h1><p className=\"text-slate-500 text-sm tracking-widest\">{t.subtitle}</p></div>\n              <SimulationView \n                  account={account} \n                  investigators={investigators} \n                  memorials={memorials} // ğŸ”¥ å‚³å…¥ SBT åˆ—è¡¨\n                  currentInvestigator={currentInvestigator} \n                  loading={loading} \n                  t={t}\n                  mint={mint} \n                  singleSanityCheck={singleSanityCheck} \n                  batchSanityCheck={batchSanityCheck} \n                  playQuick={playQuick} playManualStart={playManualStart} playManualAction={playManualAction}\n                  resign={resign} \n                  setSelectedId={setSelectedId} \n                  onViewCert={setViewingCert} // ğŸ”¥ ç¶å®šæŸ¥çœ‹è­‰æ›¸äº‹ä»¶\n                  getImageUrl={getImageUrl} \n                  lang={lang}\n              />\n              <div className=\"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  <HistorySection history={history} lang={lang} />\n                  <LeaderboardSection client={client} lang={lang} />\n              </div>\n          </div>\n      </>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1657, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/ResearchView.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Activity, History, PieChart, Layers, Dice5 } from \"lucide-react\";\nimport { Lang } from \"@/utils/localization\"; \n\n// --- ğŸ”¥ Chart.js ä¿®æ­£ï¼šå¿…é ˆåœ¨é€™è£¡å¼•å…¥ä¸¦è¨»å†Š ---\nimport {\n  Chart as ChartJS,\n  RadialLinearScale,\n  PointElement,\n  LineElement,\n  Filler,\n  Tooltip,\n  Legend,\n  ArcElement,\n  CategoryScale,\n  LinearScale,\n  BarElement\n} from 'chart.js';\nimport { Radar, Doughnut, Bar } from 'react-chartjs-2';\n\n// è¨»å†Šæ‰€æœ‰éœ€è¦çš„åœ–è¡¨å…ƒä»¶\nChartJS.register(\n  RadialLinearScale, // é›·é”åœ–å¿…é ˆ\n  PointElement,\n  LineElement,\n  Filler,\n  Tooltip,\n  Legend,\n  ArcElement,      // åœ“é¤…åœ–å¿…é ˆ\n  CategoryScale,   // é•·æ¢åœ–å¿…é ˆ\n  LinearScale,\n  BarElement\n);\n\n// --- ğŸ“š ç ”ç©¶å ±å‘Šå°ˆç”¨å­—å…¸ ---\nconst RESEARCH_TEXTS = {\n    zh: {\n        tabs: { analysis: \"æºé ­åˆ†æ\", evolution: \"æ¼”åŒ–è„ˆçµ¡\", architecture: \"Web3 æ¶æ§‹\" },\n        analysis_title: \"ä¾†æºåˆ†æï¼šã€Šäººæ ¼è§£é«”ã€‹èˆ‡ TRPG ç³»çµ±\",\n        analysis_desc: \"æœ¬å€å¡Šæ‹†è§£æ ¸å¿ƒæ©Ÿåˆ¶ã€‚è¦é€²è¡Œ Web3 è½‰åŒ–ï¼Œå¿…é ˆå…ˆé‡åŒ–ã€Œè§’è‰²å±¬æ€§ã€èˆ‡ã€Œéš¨æ©Ÿæ€§æª¢å®šã€ï¼Œé€™æ˜¯éˆä¸Šé‚è¼¯çš„åŸºç¤ã€‚\",\n        chart_radar_title: \"èª¿æŸ¥å“¡å±¬æ€§æ¨¡å‹\",\n        chart_radar_label: \"èª¿æŸ¥å“¡æ•¸å€¼ (åµæ¢æ¨¡ç‰ˆ)\",\n        radar_labels: ['STR åŠ›é‡', 'CON é«”è³ª', 'SIZ é«”å‹', 'DEX æ•æ·', 'APP å¤–è²Œ', 'INT æ™ºåŠ›', 'POW æ„å¿—', 'EDU æ•™è‚²'],\n        analysis_insight: \"GameFi è§€é»ï¼šé€™äº›æ•¸å€¼ (STR, INT, SAN) å°‡æˆç‚º NFT çš„ Metadataã€‚åœ¨ IOTA EVM ä¸Šï¼Œé€™äº›å±¬æ€§ä¸å¯ç¯¡æ”¹ï¼Œç›´æ¥å½±éŸ¿æ™ºèƒ½åˆç´„çš„æª¢å®šæ¢ä»¶ã€‚\",\n        dice_title: \"D100 æª¢å®šæ©Ÿåˆ¶æ¨¡æ“¬\",\n        dice_desc: \"æ ¸å¿ƒç©æ³•åœ¨æ–¼ã€ŒæŠ€èƒ½æª¢å®šã€ã€‚ç³»çµ±ç”Ÿæˆ 1-100 çš„éš¨æ©Ÿæ•¸ï¼Œè‹¥å°æ–¼æŠ€èƒ½å€¼å‰‡æˆåŠŸã€‚éˆä¸Šéœ€é€é 0x8::random æ¨¡çµ„å¯¦ç¾ã€‚\",\n        dice_target: \"ç›®æ¨™æŠ€èƒ½å€¼\",\n        dice_btn: \"æŠ•æ“² D100\",\n        dice_status: { ready: \"æº–å‚™æª¢å®š\", crit: \"å¤§æˆåŠŸ! (Critical)\", fumble: \"å¤§å¤±æ•—! (Fumble)\", extreme: \"æ¥µé›£æˆåŠŸ (Extreme)\", hard: \"å›°é›£æˆåŠŸ (Hard)\", success: \"æˆåŠŸ (Success)\", fail: \"å¤±æ•— (Failure)\" },\n        evo_title: \"æ¼”åŒ–è„ˆçµ¡ï¼šå¾æ¡Œé¢åˆ°å€å¡Šéˆ\",\n        evo_desc: \"GameFi ä¸åƒ…æ˜¯ç©è³ºï¼Œè€Œæ˜¯è§£æ±º TRPGã€Œä¿¡ä»»æˆæœ¬ã€èˆ‡ CRPGã€Œè³‡ç”¢å°é–‰ã€çš„å•é¡Œã€‚\",\n        evo_stages: [\n            { title: \"TRPG æ™‚ä»£\", desc: [\"æ¥µé«˜è‡ªç”±åº¦ (æƒ³åƒåŠ›)\", \"ä¾è³´äººé¡ä¸»æŒ (KP)\", \"ä¿¡ä»»æ©Ÿåˆ¶è–„å¼±\"] },\n            { title: \"CRPG æ™‚ä»£\", desc: [\"è¦–è¦ºåŒ–é«”é©— (å¦‚äººæ ¼è§£é«”)\", \"è‡ªå‹•åŒ–è¨ˆç®— (é»‘ç›’)\", \"è³‡ç”¢ç„¡æ³•å¸¶å‡ºéŠæˆ²\"] },\n            { title: \"GameFi æ™‚ä»£\", desc: [\"è¦å‰‡æ€ªè«‡åŒ– (åˆç´„å³è¦å‰‡)\", \"è³‡ç”¢äº’é€š (NFT Avatar)\", \"IOTA EVM å…¬æ­£æª¢å®š\"] }\n        ],\n        evo_chart_labels: ['æ•˜äº‹è‡ªç”±åº¦', 'è¦–è¦ºè¡¨ç¾', 'è³‡ç”¢æ‰€æœ‰æ¬Š', 'è¦å‰‡é€æ˜åº¦'],\n        evo_datasets: ['TRPG (æ¡Œä¸Š)', 'CRPG (äººæ ¼è§£é«”)', 'GameFi (Web3)'],\n        arch_title: \"Web3 ç³»çµ±æ¶æ§‹ï¼šIOTA EVM\",\n        arch_desc: \"é‡å°ã€Œè¦å‰‡æ€ªè«‡ã€GameFi çš„æŠ€è¡“é¸å‹ã€‚ä»¥ IOTA EVM ç‚ºä¸»ï¼ŒNext.js ç‚ºå‰ç«¯ã€‚\",\n        stack_title: \"æŠ€è¡“å †ç–Š (Tech Stack)\",\n        stack_layers: [\n            { name: \"æ‡‰ç”¨å±¤ (Next.js)\", desc: \"React Client: UI æ¸²æŸ“ã€éŒ¢åŒ…é€£æ¥ã€è¦–è¦ºåé¥‹\" },\n            { name: \"é‚è¼¯å±¤ (Contract)\", desc: \"Move Smart Contracts: Avatar NFT, è¦å‰‡å¼•æ“, éš¨æ©Ÿæ•¸ç”Ÿæˆ\" },\n            { name: \"æ•¸æ“šå±¤ (Storage)\", desc: \"On-Chain Objects: è§’è‰²ç‹€æ…‹ã€äº‹ä»¶ç´€éŒ„ (Events)\" }\n        ],\n        token_title: \"ç”Ÿæ…‹ç³»åƒ¹å€¼æµå‹•\",\n        token_labels: ['ç©å®¶çå‹µæ±  (P2E)', 'å‰µä½œè€…åŸºé‡‘ (UGC)', 'ç”Ÿæ…‹ç³»ç™¼å±•', 'æµå‹•æ€§æä¾›', 'åœ˜éšŠèˆ‡æ—©æœŸæŠ•è³‡'],\n        code_comment: \"// æ¡ˆä¾‹ç ”ç©¶ï¼šè¦å‰‡æ€ªè«‡çš„åˆç´„é‚è¼¯ (Move)\"\n    },\n    en: {\n        tabs: { analysis: \"Source Analysis\", evolution: \"Evolution\", architecture: \"Web3 Arch\" },\n        analysis_title: \"Source Analysis: Depersonalization & TRPG\",\n        analysis_desc: \"Deconstructing core mechanics. To adapt for Web3, we must quantify 'Attributes' and 'RNG Checks', forming the basis of on-chain logic.\",\n        chart_radar_title: \"Investigator Attribute Model\",\n        chart_radar_label: \"Stats (Detective Template)\",\n        radar_labels: ['STR', 'CON', 'SIZ', 'DEX', 'APP', 'INT', 'POW', 'EDU'],\n        analysis_insight: \"GameFi Insight: These stats (STR, INT, SAN) become NFT Metadata. On IOTA EVM, they are immutable and directly influence smart contract checks.\",\n        dice_title: \"D100 Check Mechanism\",\n        dice_desc: \"Core gameplay relies on 'Skill Checks'. RNG 1-100; roll under skill to succeed. On-chain implementation requires 0x8::random.\",\n        dice_target: \"Target Skill\",\n        dice_btn: \"Roll D100\",\n        dice_status: { ready: \"Ready to Roll\", crit: \"Critical Success!\", fumble: \"Fumble!\", extreme: \"Extreme Success\", hard: \"Hard Success\", success: \"Success\", fail: \"Failure\" },\n        evo_title: \"Evolution: Tabletop to Blockchain\",\n        evo_desc: \"GameFi isn't just P2E; it solves TRPG's 'Trust Cost' and CRPG's 'Closed Assets' issues.\",\n        evo_stages: [\n            { title: \"TRPG Era\", desc: [\"High Freedom (Imagination)\", \"Relies on Human Host (KP)\", \"Weak Trust Mechanism\"] },\n            { title: \"CRPG Era\", desc: [\"Visualized Experience\", \"Automated calc (Blackbox)\", \"Assets locked in-game\"] },\n            { title: \"GameFi Era\", desc: [\"Contract as Rule (Weird)\", \"Interoperable Assets (NFT)\", \"Fair On-Chain Verification\"] }\n        ],\n        evo_chart_labels: ['Narrative Freedom', 'Visuals', 'Asset Ownership', 'Transparency'],\n        evo_datasets: ['TRPG (Tabletop)', 'CRPG (Digital)', 'GameFi (Web3)'],\n        arch_title: \"Web3 Architecture: IOTA EVM\",\n        arch_desc: \"Tech stack selection for 'Rules of Weird' GameFi. Based on IOTA EVM and Next.js.\",\n        stack_title: \"Tech Stack\",\n        stack_layers: [\n            { name: \"App Layer (Next.js)\", desc: \"React Client: Rendering, Wallet Connect, Visual Feedback\" },\n            { name: \"Logic Layer (Contract)\", desc: \"Move Smart Contracts: Avatar NFT, Rule Engine, RNG\" },\n            { name: \"Data Layer (Storage)\", desc: \"On-Chain Objects: Character State, Event Logs\" }\n        ],\n        token_title: \"Ecosystem Value Flow\",\n        token_labels: ['P2E Pool', 'UGC Fund', 'Ecosystem Growth', 'Liquidity', 'Team & Early Investors'],\n        code_comment: \"// Case Study: Rule Contract Logic (Move)\"\n    }\n};\n\nexport function ResearchView({ lang }: { lang: Lang }) {\n    // å®‰å…¨æª¢æŸ¥ï¼šå¦‚æœ lang æ²’å‚³é€²ä¾†ï¼Œé è¨­ç‚º 'zh'\n    const safeLang = lang || 'zh';\n    const activeTexts = RESEARCH_TEXTS[safeLang]; \n    const [activeSection, setActiveSection] = useState('analysis');\n    \n    // 1. é›·é”åœ–æ•¸æ“š\n    const radarData = {\n        labels: activeTexts.radar_labels,\n        datasets: [{\n            label: activeTexts.chart_radar_label,\n            data: [50, 60, 55, 70, 60, 80, 50, 75],\n            backgroundColor: 'rgba(79, 70, 229, 0.2)',\n            borderColor: '#4f46e5',\n            borderWidth: 2,\n            pointBackgroundColor: '#fff',\n        }],\n    };\n    \n    // 2. é•·æ¢åœ–æ•¸æ“š\n    const evolutionData = {\n        labels: activeTexts.evo_chart_labels,\n        datasets: [\n            { label: activeTexts.evo_datasets[0], data: [95, 20, 10, 60], backgroundColor: 'rgba(255, 255, 255, 0.2)' },\n            { label: activeTexts.evo_datasets[1], data: [70, 90, 30, 80], backgroundColor: 'rgba(52, 211, 153, 0.5)' },\n            { label: activeTexts.evo_datasets[2], data: [60, 75, 100, 100], backgroundColor: 'rgba(139, 92, 246, 0.5)' },\n        ]\n    };\n\n    // 3. åœ“é¤…åœ–æ•¸æ“š\n    const tokenomicsData = {\n        labels: activeTexts.token_labels,\n        datasets: [{\n            data: [40, 25, 15, 10, 10],\n            backgroundColor: ['#4f46e5', '#10b981', '#8b5cf6', '#0ea5e9', '#64748b'],\n            borderWidth: 0\n        }]\n    };\n\n    // éª°å­æ¨¡æ“¬å™¨\n    const [diceResult, setDiceResult] = useState<string>(\"--\");\n    const [checkResult, setCheckResult] = useState<string>(activeTexts.dice_status.ready);\n    const [checkColor, setCheckColor] = useState(\"text-slate-500\");\n\n    const rollDice = () => {\n        let steps = 0;\n        const interval = setInterval(() => {\n            setDiceResult(String(Math.floor(Math.random() * 100) + 1));\n            steps++;\n            if (steps >= 10) {\n                clearInterval(interval);\n                const finalRoll = Math.floor(Math.random() * 100) + 1;\n                setDiceResult(String(finalRoll));\n                \n                if (finalRoll === 1) { setCheckResult(activeTexts.dice_status.crit); setCheckColor(\"text-yellow-400\"); }\n                else if (finalRoll === 100) { setCheckResult(activeTexts.dice_status.fumble); setCheckColor(\"text-red-500\"); }\n                else if (finalRoll <= 10) { setCheckResult(activeTexts.dice_status.extreme); setCheckColor(\"text-indigo-300\"); } \n                else if (finalRoll <= 25) { setCheckResult(activeTexts.dice_status.hard); setCheckColor(\"text-indigo-400\"); } \n                else if (finalRoll <= 50) { setCheckResult(activeTexts.dice_status.success); setCheckColor(\"text-emerald-400\"); }\n                else { setCheckResult(activeTexts.dice_status.fail); setCheckColor(\"text-red-400\"); }\n            }\n        }, 50);\n    };\n\n    return (\n        <div className=\"w-full max-w-7xl mx-auto p-4 space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700\">\n            {/* Header Area */}\n            <div className=\"bg-slate-900/80 backdrop-blur-md border border-slate-700 p-6 rounded-xl shadow-2xl\">\n                <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6\">\n                    <div className=\"flex items-center gap-4\">\n                        <div className=\"w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center text-2xl font-bold shadow-inner text-white\">C</div>\n                        <div>\n                            <h2 className=\"text-2xl font-bold text-white tracking-wide\">Project Cthulhu-Fi</h2>\n                            <p className=\"text-slate-400 text-sm\">Research Terminal & Architecture Analysis</p>\n                        </div>\n                    </div>\n                    {/* åˆ†é æŒ‰éˆ• */}\n                    <div className=\"flex gap-2 bg-slate-950/50 p-1 rounded-lg border border-slate-800\">\n                        <button onClick={() => setActiveSection('analysis')} className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${activeSection === 'analysis' ? 'bg-indigo-600 text-white shadow-lg' : 'text-slate-400 hover:text-white hover:bg-slate-800'}`}>{activeTexts.tabs.analysis}</button>\n                        <button onClick={() => setActiveSection('evolution')} className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${activeSection === 'evolution' ? 'bg-indigo-600 text-white shadow-lg' : 'text-slate-400 hover:text-white hover:bg-slate-800'}`}>{activeTexts.tabs.evolution}</button>\n                        <button onClick={() => setActiveSection('architecture')} className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${activeSection === 'architecture' ? 'bg-indigo-600 text-white shadow-lg' : 'text-slate-400 hover:text-white hover:bg-slate-800'}`}>{activeTexts.tabs.architecture}</button>\n                    </div>\n                </div>\n\n                {/* å…§å®¹é¡¯ç¤ºå€ */}\n                <div className=\"min-h-[400px]\">\n                    \n                    {/* --- 1. æºé ­åˆ†æ --- */}\n                    {activeSection === 'analysis' && (\n                        <div className=\"space-y-6 animate-in fade-in\">\n                            <div className=\"border-l-4 border-indigo-500 pl-4 mb-4\">\n                                <h3 className=\"text-xl font-bold text-white\">{activeTexts.analysis_title}</h3>\n                                <p className=\"text-sm text-slate-400 mt-1\">{activeTexts.analysis_desc}</p>\n                            </div>\n\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                                <div className=\"bg-slate-950/50 p-6 rounded-xl border border-slate-700\">\n                                    <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\"><Activity size={18}/> {activeTexts.chart_radar_title}</h3>\n                                    <div className=\"h-[300px] flex items-center justify-center\">\n                                        <Radar data={radarData} options={{ scales: { r: { angleLines: { color: 'rgba(255,255,255,0.1)' }, grid: { color: 'rgba(255,255,255,0.1)' }, pointLabels: { color: '#cbd5e1', font: { size: 12 } }, suggestedMin: 0, suggestedMax: 100 } }, plugins: { legend: { display: false } } }} />\n                                    </div>\n                                    <p className=\"mt-4 text-xs text-slate-400 border-l-2 border-indigo-500 pl-2 bg-indigo-900/10 p-2 rounded\">\n                                        {activeTexts.analysis_insight}\n                                    </p>\n                                </div>\n                                \n                                <div className=\"bg-slate-950/50 p-6 rounded-xl border border-slate-700 flex flex-col justify-center items-center relative overflow-hidden\">\n                                    <div className=\"absolute top-0 right-0 p-4 opacity-10\"><Dice5 size={100} /></div>\n                                    <h3 className=\"text-lg font-semibold text-white mb-2\">{activeTexts.dice_title}</h3>\n                                    <p className=\"text-xs text-slate-500 mb-6 text-center px-4\">{activeTexts.dice_desc}</p>\n                                    \n                                    <div className=\"text-6xl font-mono font-bold text-white mb-2 animate-pulse text-shadow-glow\">{diceResult}</div>\n                                    <div className={`text-xl font-bold mb-6 ${checkColor}`}>{checkResult}</div>\n                                    \n                                    <div className=\"w-full px-10 mb-4\">\n                                        <div className=\"flex justify-between text-xs text-slate-400 mb-1\"><span>{activeTexts.dice_target}</span><span className=\"text-white font-bold\">50</span></div>\n                                        <div className=\"h-2 bg-slate-700 rounded-full overflow-hidden\"><div className=\"h-full bg-indigo-500 w-1/2\"></div></div>\n                                    </div>\n\n                                    <Button onClick={rollDice} className=\"w-full max-w-xs bg-indigo-600 hover:bg-indigo-500 text-white font-bold h-12 shadow-lg shadow-indigo-500/20\">\n                                        {activeTexts.dice_btn}\n                                    </Button>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n\n                    {/* --- 2. æ¼”åŒ–è„ˆçµ¡ --- */}\n                    {activeSection === 'evolution' && (\n                        <div className=\"bg-slate-950/50 p-6 rounded-xl border border-slate-700 animate-in fade-in space-y-6\">\n                            <div className=\"border-l-4 border-emerald-500 pl-4\">\n                                <h3 className=\"text-xl font-bold text-white\">{activeTexts.evo_title}</h3>\n                                <p className=\"text-sm text-slate-400 mt-1\">{activeTexts.evo_desc}</p>\n                            </div>\n\n                            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n                                {activeTexts.evo_stages.map((stage, idx) => (\n                                    <div key={idx} className=\"p-4 bg-slate-900 rounded border border-slate-700 hover:border-emerald-500 transition-colors group\">\n                                        <div className=\"text-4xl font-serif text-slate-700 font-bold mb-2 group-hover:text-emerald-500/50 transition-colors\">{[\"I\", \"II\", \"III\"][idx]}</div>\n                                        <strong className=\"text-emerald-400 block mb-2 text-lg\">{stage.title}</strong>\n                                        <ul className=\"text-slate-400 space-y-1 list-disc list-inside\">\n                                            {stage.desc.map((d, i) => <li key={i}>{d}</li>)}\n                                        </ul>\n                                    </div>\n                                ))}\n                            </div>\n\n                            <div className=\"h-[300px]\">\n                                <Bar data={evolutionData} options={{ indexAxis: 'y', responsive: true, maintainAspectRatio: false, scales: { x: { grid: { color: 'rgba(255,255,255,0.1)' } }, y: { grid: { display: false }, ticks: { color: '#cbd5e1' } } }, plugins: { legend: { labels: { color: '#cbd5e1' } } } }} />\n                            </div>\n                        </div>\n                    )}\n\n                    {/* --- 3. Web3 æ¶æ§‹ --- */}\n                    {activeSection === 'architecture' && (\n                        <div className=\"space-y-6 animate-in fade-in\">\n                            <div className=\"border-l-4 border-violet-500 pl-4\">\n                                <h3 className=\"text-xl font-bold text-white\">{activeTexts.arch_title}</h3>\n                                <p className=\"text-sm text-slate-400 mt-1\">{activeTexts.arch_desc}</p>\n                            </div>\n\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                                {/* Stack Diagram */}\n                                <div className=\"bg-slate-950/50 p-6 rounded-xl border border-slate-700\">\n                                    <h3 className=\"text-lg font-bold text-violet-400 mb-4 flex items-center gap-2\"><Layers size={18}/> {activeTexts.stack_title}</h3>\n                                    <div className=\"space-y-4\">\n                                        {activeTexts.stack_layers.map((layer, idx) => (\n                                            <div key={idx} className=\"flex items-center\">\n                                                <div className=\"w-24 text-right text-xs font-bold text-slate-500 mr-4\">{layer.name.split(\" \")[0]}<br/>{layer.name.split(\" \")[1]}</div>\n                                                <div className={`flex-1 bg-slate-800 p-3 rounded border-l-4 ${idx===0?'border-blue-500':idx===1?'border-violet-500':'border-emerald-500'} text-sm text-slate-200 shadow-lg relative`}>\n                                                    <div className=\"font-bold text-blue-400\">{layer.name}</div>\n                                                    <div className=\"text-xs text-slate-400\">{layer.desc}</div>\n                                                </div>\n                                            </div>\n                                        ))}\n                                    </div>\n                                </div>\n\n                                {/* Tokenomics */}\n                                <div className=\"bg-slate-950/50 p-6 rounded-xl border border-slate-700 flex flex-col items-center\">\n                                    <h3 className=\"text-lg font-bold text-blue-400 mb-4 flex items-center gap-2\"><PieChart size={18}/> {activeTexts.token_title}</h3>\n                                    <div className=\"w-64 h-64\">\n                                        <Doughnut data={tokenomicsData} options={{ plugins: { legend: { position: 'bottom', labels: { color: '#cbd5e1', font: { size: 11 } } } } }} />\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Code Snippet */}\n                            <div className=\"bg-slate-900 p-4 rounded-xl border border-slate-800 font-mono text-xs overflow-x-auto shadow-inner\">\n                                <div className=\"text-slate-500 mb-2\">{activeTexts.code_comment}</div>\n                                <div className=\"text-purple-400\">public fun <span className=\"text-blue-400\">interact_with_door</span>(player: &mut Investigator, door_color: String) &#123;</div>\n                                <div className=\"pl-4 text-slate-300\"><span className=\"text-slate-500\">// Rule: Red door sets SAN to 0</span></div>\n                                <div className=\"pl-4 text-purple-400\">if (door_color == b\"RED\") &#123;</div>\n                                <div className=\"pl-8 text-slate-300\">player.san = 0;</div>\n                                <div className=\"pl-8 text-slate-300\">player.is_mad = true;</div>\n                                <div className=\"pl-8 text-yellow-400\">event::emit(MadnessEvent &#123; reason: b\"VIOLATED_RULE_1\" &#125;);</div>\n                                <div className=\"pl-4 text-purple-400\">&#125; else &#123;</div>\n                                <div className=\"pl-8 text-slate-300\">player.exp = player.exp + 10;</div>\n                                <div className=\"pl-4 text-purple-400\">&#125;</div>\n                                <div className=\"text-purple-400\">&#125;</div>\n                            </div>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2770, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { ConnectButton } from \"@iota/dapp-kit\"; \nimport { BookOpen, Gamepad2, Globe } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { BGMPlayer } from \"@/components/shared/BGMPlayer\";\nimport { GameDashboard } from \"@/components/GameDashboard\";\nimport { ResearchView } from \"@/components/ResearchView\"; \nimport { Lang } from \"@/utils/localization\";\n\nexport default function Home() {\n  const [activeTab, setActiveTab] = useState<'research' | 'simulation'>('research');\n  const [lang, setLang] = useState<Lang>('zh');\n\n  return (\n    <div className=\"min-h-screen text-slate-100 font-sans selection:bg-indigo-500/30\">\n      <div className=\"scanlines\"></div>\n      {/* ğŸŒŒ å…¨åŸŸå‹•æ…‹èƒŒæ™¯ (ä½¿ç”¨åŸç”Ÿ styleï¼Œç¹é Tailwind è®Šæ•¸å•é¡Œ) */}\n      <div className=\"fixed inset-0 z-[-1] bg-black\">\n          \n          {/* Layer 1: Research Mode (ç§‘æŠ€è—) */}\n          <div \n            className=\"absolute inset-0 transition-opacity duration-1000 ease-in-out\"\n            style={{\n                // é€™è£¡ç›´æ¥å¯«æ­» CSS æ¼¸å±¤ï¼Œä¿è­‰ç€è¦½å™¨èƒ½è®€æ‡‚\n                background: 'radial-gradient(circle at top, #172554 0%, #0f172a 40%, #000000 100%)', // Blue-950 -> Slate-900 -> Black\n                opacity: activeTab === 'research' ? 1 : 0\n            }}\n          ></div>\n\n          {/* Layer 2: Simulation Mode (ææ€–ç´…) */}\n          <div \n            className=\"absolute inset-0 transition-opacity duration-1000 ease-in-out\"\n            style={{\n                // ç›´æ¥å¯«æ­» CSS æ¼¸å±¤\n                background: 'radial-gradient(circle at top, #450a0a 0%, #2e0202 40%, #000000 100%)', // Red-950 -> Darker Red -> Black\n                opacity: activeTab === 'simulation' ? 1 : 0\n            }}\n          ></div>\n\n          {/* Layer 3: ç¶²æ ¼ç´‹ç† (ç´” CSS) */}\n          <div \n            className=\"absolute inset-0 opacity-20 pointer-events-none\" \n            style={{ \n                backgroundImage: 'linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px)', \n                backgroundSize: '40px 40px' \n            }}\n          ></div>\n      </div>\n\n      <BGMPlayer />\n\n      {/* å°èˆªåˆ— */}\n      <nav className=\"sticky top-0 z-40 w-full border-b border-white/10 bg-black/80 backdrop-blur-md px-4 py-3 flex justify-between items-center shadow-lg\">\n          {/* å·¦å´ LOGO */}\n          <div className=\"flex items-center gap-3\">\n              <div className=\"w-8 h-8 bg-gradient-to-br from-indigo-600 to-violet-600 rounded flex items-center justify-center font-bold text-white shadow-lg\">C</div>\n              <span className=\"font-bold tracking-wider text-slate-200 hidden md:inline\">Project Cthulhu-Fi</span>\n          </div>\n          \n          {/* ä¸­é–“ Tab åˆ‡æ›å™¨ */}\n          <div className=\"flex bg-white/5 p-1 rounded-lg border border-white/10\">\n              <button \n                onClick={() => setActiveTab('research')} \n                className={`flex items-center gap-2 px-4 py-1.5 rounded-md text-sm font-medium transition-all ${activeTab === 'research' ? 'bg-indigo-600 text-white shadow-lg' : 'text-slate-400 hover:text-white hover:bg-white/10'}`}\n              >\n                  <BookOpen size={16} /> Research\n              </button>\n              <button \n                onClick={() => setActiveTab('simulation')} \n                className={`flex items-center gap-2 px-4 py-1.5 rounded-md text-sm font-medium transition-all ${activeTab === 'simulation' ? 'bg-red-700 text-white shadow-lg' : 'text-slate-400 hover:text-white hover:bg-white/10'}`}\n              >\n                  <Gamepad2 size={16} /> Simulation\n              </button>\n          </div>\n\n          {/* å³å´ å·¥å…·åˆ— (èªè¨€ + éŒ¢åŒ…) */}\n          <div className=\"flex items-center gap-2\">\n              <Button variant=\"ghost\" size=\"sm\" onClick={() => setLang(l => l === 'zh' ? 'en' : 'zh')} className=\"text-slate-400 hover:text-white hover:bg-white/10\">\n                  <Globe size={18} /> <span className=\"ml-1 text-xs\">{lang.toUpperCase()}</span>\n              </Button>\n              <ConnectButton className=\"!bg-indigo-600 hover:!bg-indigo-700 text-white font-bold px-4 py-2 rounded\" />\n          </div>\n      </nav>\n\n      {/* ä¸»å…§å®¹å€ */}\n      <main className=\"relative\">\n          {activeTab === 'research' ? (\n              <ResearchView lang={lang} />\n          ) : (\n              <GameDashboard lang={lang} />\n          )}\n      </main>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAWe,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wPAAQ,EAA4B;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,wPAAQ,EAAO;IAEvC,qBACE,qRAAC;QAAI,WAAU;;0BACb,qRAAC;gBAAI,WAAU;;;;;;0BAEf,qRAAC;gBAAI,WAAU;;kCAGX,qRAAC;wBACC,WAAU;wBACV,OAAO;4BACH,yBAAyB;4BACzB,YAAY;4BACZ,SAAS,cAAc,aAAa,IAAI;wBAC5C;;;;;;kCAIF,qRAAC;wBACC,WAAU;wBACV,OAAO;4BACH,cAAc;4BACd,YAAY;4BACZ,SAAS,cAAc,eAAe,IAAI;wBAC9C;;;;;;kCAIF,qRAAC;wBACC,WAAU;wBACV,OAAO;4BACH,iBAAiB;4BACjB,gBAAgB;wBACpB;;;;;;;;;;;;0BAIN,qRAAC,6LAAS;;;;;0BAGV,qRAAC;gBAAI,WAAU;;kCAEX,qRAAC;wBAAI,WAAU;;0CACX,qRAAC;gCAAI,WAAU;0CAAkI;;;;;;0CACjJ,qRAAC;gCAAK,WAAU;0CAA2D;;;;;;;;;;;;kCAI/E,qRAAC;wBAAI,WAAU;;0CACX,qRAAC;gCACC,SAAS,IAAM,aAAa;gCAC5B,WAAW,CAAC,kFAAkF,EAAE,cAAc,aAAa,uCAAuC,qDAAqD;;kDAErN,qRAAC,iQAAQ;wCAAC,MAAM;;;;;;oCAAM;;;;;;;0CAE1B,qRAAC;gCACC,SAAS,IAAM,aAAa;gCAC5B,WAAW,CAAC,kFAAkF,EAAE,cAAc,eAAe,oCAAoC,qDAAqD;;kDAEpN,qRAAC,iQAAQ;wCAAC,MAAM;;;;;;oCAAM;;;;;;;;;;;;;kCAK9B,qRAAC;wBAAI,WAAU;;0CACX,qRAAC,mLAAM;gCAAC,SAAQ;gCAAQ,MAAK;gCAAK,SAAS,IAAM,QAAQ,CAAA,IAAK,MAAM,OAAO,OAAO;gCAAO,WAAU;;kDAC/F,qRAAC,oPAAK;wCAAC,MAAM;;;;;;oCAAM;kDAAC,qRAAC;wCAAK,WAAU;kDAAgB,KAAK,WAAW;;;;;;;;;;;;0CAExE,qRAAC,qNAAa;gCAAC,WAAU;;;;;;;;;;;;;;;;;;0BAKjC,qRAAC;gBAAK,WAAU;0BACX,cAAc,2BACX,qRAAC,yLAAY;oBAAC,MAAM;;;;;yCAEpB,qRAAC,2LAAa;oBAAC,MAAM;;;;;;;;;;;;;;;;;AAKnC"}}]
}