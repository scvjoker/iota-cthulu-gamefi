{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,6MAAO,EAAC,IAAA,oLAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,8MAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,+MAAI,GAAG;IAE9B,qBACE,qRAAC;QACC,aAAU;QACV,gBAAc;QACd,aAAW;QACX,WAAW,IAAA,gKAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/shared/BGMPlayer.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Volume2, VolumeX } from \"lucide-react\";\n\nexport function BGMPlayer() {\n    const [isPlaying, setIsPlaying] = useState(true);\n    const audioRef = useRef<HTMLAudioElement | null>(null);\n    useEffect(() => {\n        const tryPlay = async () => { if (audioRef.current) { audioRef.current.volume = 0.3; try { await audioRef.current.play(); } catch (e) { setIsPlaying(false); const unlock = () => { if(audioRef.current){audioRef.current.play(); setIsPlaying(true); document.removeEventListener('click', unlock);} }; document.addEventListener('click', unlock); } } };\n        tryPlay();\n    }, []);\n    return (\n        <div className=\"fixed bottom-6 right-6 z-50\">\n            <audio ref={audioRef} src=\"/bgm.mp3\" loop />\n            <Button onClick={() => {if(audioRef.current){ if(isPlaying){audioRef.current.pause();setIsPlaying(false)}else{audioRef.current.play();setIsPlaying(true)} }}} variant=\"outline\" className={`rounded-full w-12 h-12 p-0 shadow-lg border-2 transition-all ${isPlaying ? \"bg-indigo-600 border-indigo-400 text-white animate-pulse\" : \"bg-slate-900 border-slate-600 text-slate-400\"}`}>\n                {isPlaying ? <Volume2 size={20} /> : <VolumeX size={20} />}\n            </Button>\n        </div>\n    );\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AAAA;AAHA;;;;;AAKO,SAAS;IACZ,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wPAAQ,EAAC;IAC3C,MAAM,WAAW,IAAA,sPAAM,EAA0B;IACjD,IAAA,yPAAS,EAAC;QACN,MAAM,UAAU;YAAc,IAAI,SAAS,OAAO,EAAE;gBAAE,SAAS,OAAO,CAAC,MAAM,GAAG;gBAAK,IAAI;oBAAE,MAAM,SAAS,OAAO,CAAC,IAAI;gBAAI,EAAE,OAAO,GAAG;oBAAE,aAAa;oBAAQ,MAAM,SAAS;wBAAQ,IAAG,SAAS,OAAO,EAAC;4BAAC,SAAS,OAAO,CAAC,IAAI;4BAAI,aAAa;4BAAO,SAAS,mBAAmB,CAAC,SAAS;wBAAQ;oBAAE;oBAAG,SAAS,gBAAgB,CAAC,SAAS;gBAAS;YAAE;QAAE;QACzV;IACJ,GAAG,EAAE;IACL,qBACI,qRAAC;QAAI,WAAU;;0BACX,qRAAC;gBAAM,KAAK;gBAAU,KAAI;gBAAW,IAAI;;;;;;0BACzC,qRAAC,mLAAM;gBAAC,SAAS;oBAAO,IAAG,SAAS,OAAO,EAAC;wBAAE,IAAG,WAAU;4BAAC,SAAS,OAAO,CAAC,KAAK;4BAAG,aAAa;wBAAM,OAAK;4BAAC,SAAS,OAAO,CAAC,IAAI;4BAAG,aAAa;wBAAK;oBAAE;gBAAC;gBAAG,SAAQ;gBAAU,WAAW,CAAC,6DAA6D,EAAE,YAAY,6DAA6D,gDAAgD;0BAC/W,0BAAY,qRAAC,8PAAO;oBAAC,MAAM;;;;;yCAAS,qRAAC,8PAAO;oBAAC,MAAM;;;;;;;;;;;;;;;;;AAIpE"}},
    {"offset": {"line": 173, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/utils/constants.ts"],"sourcesContent":["// ÈÄôÊòØÂâõÂâõÈÉ®ÁΩ≤ÂæóÂà∞ÁöÑ Package ID\nexport const PACKAGE_ID = \"0xa42fd9753810179c2d4dee5b2d3b832eefd5769658ea5d1a333247e68d983af2\";\n\n// Ê®°ÁµÑÂêçÁ®± (Move Ê™îÊ°àË£°ÁöÑ module name)\nexport const MODULE_NAME = \"investigator\";\n\n// IOTA Ê∏¨Ë©¶Á∂≤ÁöÑÁ≥ªÁµ±Èö®Ê©üÊï∏Áâ©‰ª∂ ID (Âõ∫ÂÆö‰∏çËÆä)\nexport const RANDOM_OBJECT_ID = \"0x8\";"],"names":[],"mappings":"AAAA,uBAAuB;;;;;;;;;AAChB,MAAM,aAAa;AAGnB,MAAM,cAAc;AAGpB,MAAM,mBAAmB"}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/shared/CinematicText.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\n\nexport function CinematicText({ lines, onComplete, isMadness = false }: { lines: string[], onComplete: () => void, isMadness?: boolean }) {\n    const [index, setIndex] = useState(0);\n    const [opacity, setOpacity] = useState(0);\n    useEffect(() => {\n        setTimeout(() => setOpacity(1), 100);\n        const readTime = Math.max(2000, lines[index].length * 150);\n        const timer = setTimeout(() => {\n            setOpacity(0);\n            setTimeout(() => { if (index < lines.length - 1) setIndex(prev => prev + 1); else onComplete(); }, 1000);\n        }, readTime);\n        return () => clearTimeout(timer);\n    }, [index]);\n    return (\n        <div className=\"fixed inset-0 z-[100] bg-black flex flex-col items-center justify-center p-8 cursor-pointer\" onClick={onComplete}>\n            <div className={`text-xl md:text-2xl font-serif tracking-widest leading-loose text-center transition-opacity duration-1000 ${isMadness ? \"text-red-600 font-bold animate-pulse\" : \"text-slate-200\"}`} style={{ opacity: opacity }}>{lines[index]}</div>\n            <div className=\"absolute bottom-10 text-slate-600 text-xs animate-pulse\">(Click to skip)</div>\n        </div>\n    );\n}"],"names":[],"mappings":";;;;;AACA;AADA;;;AAGO,SAAS,cAAc,EAAE,KAAK,EAAE,UAAU,EAAE,YAAY,KAAK,EAAoE;IACpI,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,wPAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wPAAQ,EAAC;IACvC,IAAA,yPAAS,EAAC;QACN,WAAW,IAAM,WAAW,IAAI;QAChC,MAAM,WAAW,KAAK,GAAG,CAAC,MAAM,KAAK,CAAC,MAAM,CAAC,MAAM,GAAG;QACtD,MAAM,QAAQ,WAAW;YACrB,WAAW;YACX,WAAW;gBAAQ,IAAI,QAAQ,MAAM,MAAM,GAAG,GAAG,SAAS,CAAA,OAAQ,OAAO;qBAAS;YAAc,GAAG;QACvG,GAAG;QACH,OAAO,IAAM,aAAa;IAC9B,GAAG;QAAC;KAAM;IACV,qBACI,qRAAC;QAAI,WAAU;QAA8F,SAAS;;0BAClH,qRAAC;gBAAI,WAAW,CAAC,0GAA0G,EAAE,YAAY,yCAAyC,kBAAkB;gBAAE,OAAO;oBAAE,SAAS;gBAAQ;0BAAI,KAAK,CAAC,MAAM;;;;;;0BAChP,qRAAC;gBAAI,WAAU;0BAA0D;;;;;;;;;;;;AAGrF"}},
    {"offset": {"line": 249, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,qRAAC;QACC,aAAU;QACV,WAAW,IAAA,gKAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,qRAAC;QACC,aAAU;QACV,WAAW,IAAA,gKAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,qRAAC;QACC,aAAU;QACV,WAAW,IAAA,gKAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,qRAAC;QACC,aAAU;QACV,WAAW,IAAA,gKAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,qRAAC;QACC,aAAU;QACV,WAAW,IAAA,gKAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,qRAAC;QACC,aAAU;QACV,WAAW,IAAA,gKAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,qRAAC;QACC,aAAU;QACV,WAAW,IAAA,gKAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 351, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/game/HistorySection.tsx"],"sourcesContent":["\"use client\";\n\nimport { Scroll, Clock } from \"lucide-react\";\nimport { Card, CardHeader, CardTitle, CardContent } from \"@/components/ui/card\";\nimport { processLog, Lang } from \"@/utils/localization\"; // Ë®òÂæó import processLog\n\nexport function HistorySection({ history, lang }: { history: any[], lang: Lang }) {\n    return (\n        <Card className=\"bg-slate-900/90 border-slate-700 shadow-xl backdrop-blur-sm h-[400px] flex flex-col\">\n            <CardHeader className=\"bg-slate-950/80 border-b border-slate-800 pb-3\">\n                <CardTitle className=\"text-slate-200 text-sm flex items-center gap-2\">\n                    <Scroll size={16} className=\"text-indigo-400\"/> {lang === 'zh' ? 'ÂÜíÈö™Êó•Ë™å' : 'Adventure Logs'}\n                </CardTitle>\n            </CardHeader>\n            <CardContent className=\"flex-1 overflow-y-auto p-0 custom-scrollbar\">\n                {history.length === 0 ? (\n                    <div className=\"h-full flex flex-col items-center justify-center text-slate-600 text-xs\">\n                        No records found.\n                    </div>\n                ) : (\n                    <div className=\"divide-y divide-slate-800\">\n                        {history.map((entry: any, i: number) => (\n                            <div key={i} className=\"p-4 hover:bg-slate-800/30 transition-colors\">\n                                <div className=\"flex justify-between items-start mb-2\">\n                                    <div className=\"flex flex-col\">\n                                        <span className={`text-xs font-bold uppercase tracking-wider px-2 py-0.5 rounded w-fit ${\n                                            entry.outcome === 'Madness' ? 'bg-red-900/30 text-red-400' : \n                                            entry.outcome === 'Escaped' ? 'bg-emerald-900/30 text-emerald-400' : \n                                            entry.outcome === 'Resigned' ? 'bg-gray-700 text-gray-300' :\n                                            'bg-indigo-900/30 text-indigo-300'\n                                        }`}>\n                                            {entry.outcome}\n                                        </span>\n                                        {/* üî• È°ØÁ§∫ËßíËâ≤ÂêçÁ®± */}\n                                        {entry.investigatorName && (\n                                            <span className=\"text-[10px] text-slate-500 mt-1 font-mono\">\n                                                {entry.investigatorName}\n                                            </span>\n                                        )}\n                                    </div>\n                                    <span className=\"text-[10px] text-slate-600 flex items-center gap-1\">\n                                        <Clock size={10}/> {new Date(entry.timestamp).toLocaleTimeString()}\n                                    </span>\n                                </div>\n                                <div className=\"space-y-1\">\n                                    {entry.logs.slice(0, 3).map((log: string, j: number) => (\n                                        <p key={j} className=\"text-xs text-slate-400 font-mono line-clamp-1\">\n                                            {processLog(log, lang)}\n                                        </p>\n                                    ))}\n                                    {entry.logs.length > 3 && <p className=\"text-[10px] text-slate-600 italic\">... +{entry.logs.length - 3} more</p>}\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                )}\n            </CardContent>\n        </Card>\n    );\n}"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;;;;;;AAHA;;;;;AAMO,SAAS,eAAe,EAAE,OAAO,EAAE,IAAI,EAAkC;IAC5E,qBACI,qRAAC,+KAAI;QAAC,WAAU;;0BACZ,qRAAC,qLAAU;gBAAC,WAAU;0BAClB,cAAA,qRAAC,oLAAS;oBAAC,WAAU;;sCACjB,qRAAC,uPAAM;4BAAC,MAAM;4BAAI,WAAU;;;;;;wBAAmB;wBAAE,SAAS,OAAO,SAAS;;;;;;;;;;;;0BAGlF,qRAAC,sLAAW;gBAAC,WAAU;0BAClB,QAAQ,MAAM,KAAK,kBAChB,qRAAC;oBAAI,WAAU;8BAA0E;;;;;yCAIzF,qRAAC;oBAAI,WAAU;8BACV,QAAQ,GAAG,CAAC,CAAC,OAAY,kBACtB,qRAAC;4BAAY,WAAU;;8CACnB,qRAAC;oCAAI,WAAU;;sDACX,qRAAC;4CAAI,WAAU;;8DACX,qRAAC;oDAAK,WAAW,CAAC,qEAAqE,EACnF,MAAM,OAAO,KAAK,YAAY,+BAC9B,MAAM,OAAO,KAAK,YAAY,uCAC9B,MAAM,OAAO,KAAK,aAAa,8BAC/B,oCACF;8DACG,MAAM,OAAO;;;;;;gDAGjB,MAAM,gBAAgB,kBACnB,qRAAC;oDAAK,WAAU;8DACX,MAAM,gBAAgB;;;;;;;;;;;;sDAInC,qRAAC;4CAAK,WAAU;;8DACZ,qRAAC,oPAAK;oDAAC,MAAM;;;;;;gDAAK;gDAAE,IAAI,KAAK,MAAM,SAAS,EAAE,kBAAkB;;;;;;;;;;;;;8CAGxE,qRAAC;oCAAI,WAAU;;wCACV,MAAM,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,CAAC,KAAa,kBACtC,qRAAC;gDAAU,WAAU;0DAChB,WAAW,KAAK;+CADb;;;;;wCAIX,MAAM,IAAI,CAAC,MAAM,GAAG,mBAAK,qRAAC;4CAAE,WAAU;;gDAAoC;gDAAM,MAAM,IAAI,CAAC,MAAM,GAAG;gDAAE;;;;;;;;;;;;;;2BA5BrG;;;;;;;;;;;;;;;;;;;;;AAqCtC"}},
    {"offset": {"line": 521, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/game/LeaderboardSection.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Trophy } from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport { PACKAGE_ID, MODULE_NAME } from \"@/utils/constants\";\nimport { TEXTS, Lang } from \"@/utils/localization\";\n\nexport function LeaderboardSection({ client, lang }: { client: any, lang: Lang }) {\n    const [scores, setScores] = useState<any[]>([]);\n    \n    const fetchLeaderboard = async () => { \n        try { \n            const events = await client.queryEvents({ query: { MoveModule: { package: PACKAGE_ID, module: MODULE_NAME } } }); \n            const rawScores = events.data.filter((e: any) => e.type.includes(\"ScoreEvent\")).map((e: any) => e.parsedJson).sort((a: any, b: any) => Number(b.depth) - Number(a.depth)).slice(0, 10); \n            setScores(rawScores); \n        } catch (e) { } \n    };\n    \n    useEffect(() => { fetchLeaderboard(); }, []);\n    \n    const handleClaim = () => { \n        toast.error(TEXTS[lang].claim_error, { duration: 4000, style: { border: '1px solid #ef4444', background: '#220000', color: '#fca5a5' } }); \n    };\n    \n    return (\n        <Card className=\"mt-6 bg-slate-900/80 border-amber-600/30 backdrop-blur-sm\">\n            <CardHeader><CardTitle className=\"flex justify-between text-amber-500\"><span className=\"flex gap-2\"><Trophy className=\"w-5 h-5\"/> {TEXTS[lang].rank_title}</span><div className=\"flex gap-2\"><Button variant=\"outline\" size=\"sm\" onClick={handleClaim} className=\"h-6 text-xs bg-yellow-900/30 border-yellow-600/50 text-yellow-400 hover:bg-yellow-900/60\">üí∞ {TEXTS[lang].claim_btn}</Button><Button variant=\"ghost\" size=\"sm\" onClick={fetchLeaderboard}>üîÑ</Button></div></CardTitle></CardHeader>\n            <CardContent><div className=\"space-y-2\">{scores.map((score, idx) => (<div key={idx} className=\"flex justify-between items-center bg-black/40 p-2 px-4 rounded border border-slate-800\"><div className=\"flex items-center gap-3\"><span className=\"font-bold font-mono text-yellow-400\">#{idx+1}</span><span className=\"text-slate-200\">{score.name}</span></div><div className=\"flex items-center gap-4\"><span className={`text-xs px-2 py-0.5 rounded ${score.outcome===\"Madness\"?\"bg-red-900/50 text-red-400\":\"bg-green-900/50 text-green-400\"}`}>{score.outcome === \"Madness\" ? (lang==='zh'?\"üíÄ ÈÅéÂãû\":\"üíÄ Dead\") : (lang==='zh'?\"üö™ ‰∏ãÁè≠\":\"üö™ Out\")}</span><span className=\"text-amber-500 font-bold\">{score.depth} F</span></div></div>))}</div></CardContent>\n        </Card>\n    );\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AAGO,SAAS,mBAAmB,EAAE,MAAM,EAAE,IAAI,EAA+B;IAC5E,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,wPAAQ,EAAQ,EAAE;IAE9C,MAAM,mBAAmB;QACrB,IAAI;YACA,MAAM,SAAS,MAAM,OAAO,WAAW,CAAC;gBAAE,OAAO;oBAAE,YAAY;wBAAE,SAAS,8KAAU;wBAAE,QAAQ,+KAAW;oBAAC;gBAAE;YAAE;YAC9G,MAAM,YAAY,OAAO,IAAI,CAAC,MAAM,CAAC,CAAC,IAAW,EAAE,IAAI,CAAC,QAAQ,CAAC,eAAe,GAAG,CAAC,CAAC,IAAW,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC,GAAQ,IAAW,OAAO,EAAE,KAAK,IAAI,OAAO,EAAE,KAAK,GAAG,KAAK,CAAC,GAAG;YACnL,UAAU;QACd,EAAE,OAAO,GAAG,CAAE;IAClB;IAEA,IAAA,yPAAS,EAAC;QAAQ;IAAoB,GAAG,EAAE;IAE3C,MAAM,cAAc;QAChB,wLAAK,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,CAAC,WAAW,EAAE;YAAE,UAAU;YAAM,OAAO;gBAAE,QAAQ;gBAAqB,YAAY;gBAAW,OAAO;YAAU;QAAE;IAC3I;IAEA,qBACI,qRAAC,+KAAI;QAAC,WAAU;;0BACZ,qRAAC,qLAAU;0BAAC,cAAA,qRAAC,oLAAS;oBAAC,WAAU;;sCAAsC,qRAAC;4BAAK,WAAU;;8CAAa,qRAAC,uPAAM;oCAAC,WAAU;;;;;;gCAAW;gCAAE,KAAK,CAAC,KAAK,CAAC,UAAU;;;;;;;sCAAQ,qRAAC;4BAAI,WAAU;;8CAAa,qRAAC,mLAAM;oCAAC,SAAQ;oCAAU,MAAK;oCAAK,SAAS;oCAAa,WAAU;;wCAA2F;wCAAI,KAAK,CAAC,KAAK,CAAC,SAAS;;;;;;;8CAAU,qRAAC,mLAAM;oCAAC,SAAQ;oCAAQ,MAAK;oCAAK,SAAS;8CAAkB;;;;;;;;;;;;;;;;;;;;;;;0BAC5b,qRAAC,sLAAW;0BAAC,cAAA,qRAAC;oBAAI,WAAU;8BAAa,OAAO,GAAG,CAAC,CAAC,OAAO,oBAAS,qRAAC;4BAAc,WAAU;;8CAAyF,qRAAC;oCAAI,WAAU;;sDAA0B,qRAAC;4CAAK,WAAU;;gDAAsC;gDAAE,MAAI;;;;;;;sDAAS,qRAAC;4CAAK,WAAU;sDAAkB,MAAM,IAAI;;;;;;;;;;;;8CAAc,qRAAC;oCAAI,WAAU;;sDAA0B,qRAAC;4CAAK,WAAW,CAAC,4BAA4B,EAAE,MAAM,OAAO,KAAG,YAAU,+BAA6B,kCAAkC;sDAAG,MAAM,OAAO,KAAK,YAAa,SAAO,OAAK,UAAQ,YAAc,SAAO,OAAK,UAAQ;;;;;;sDAAiB,qRAAC;4CAAK,WAAU;;gDAA4B,MAAM,KAAK;gDAAC;;;;;;;;;;;;;;2BAAnmB;;;;;;;;;;;;;;;;;;;;;AAG3F"}},
    {"offset": {"line": 732, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/ui/progress.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Progress({\n  className,\n  value,\n  ...props\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\n  return (\n    <ProgressPrimitive.Root\n      data-slot=\"progress\"\n      className={cn(\n        \"bg-primary/20 relative h-2 w-full overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}\n    >\n      <ProgressPrimitive.Indicator\n        data-slot=\"progress-indicator\"\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n      />\n    </ProgressPrimitive.Root>\n  )\n}\n\nexport { Progress }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,SAAS,EAChB,SAAS,EACT,KAAK,EACL,GAAG,OACiD;IACpD,qBACE,qRAAC,mNAAsB;QACrB,aAAU;QACV,WAAW,IAAA,gKAAE,EACX,kEACA;QAED,GAAG,KAAK;kBAET,cAAA,qRAAC,wNAA2B;YAC1B,aAAU;YACV,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAIlE"}},
    {"offset": {"line": 770, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/game/SimulationView.tsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { User, Fingerprint, MapPin, Brain, Activity, Gamepad2, AlertTriangle, TrendingDown } from \"lucide-react\";\n\nexport function SimulationView({ \n    account, investigators, currentInvestigator, loading, t, \n    mint, \n    singleSanityCheck, // üî• Êé•Êî∂ Single\n    batchSanityCheck,  // üî• Êé•Êî∂ Batch\n    playQuick, playManualStart, playManualAction, \n    resign,\n    setSelectedId, getImageUrl, lang \n}: any) {\n    if (!account) return <div className=\"flex flex-col items-center justify-center h-[50vh] text-amber-400 animate-pulse\"><div className=\"text-6xl mb-4\">‚ö†Ô∏è</div><div className=\"text-xl font-bold\">Please Connect Wallet</div></div>;\n\n    const depth = currentInvestigator?.loop_depth || 0;\n    const san = currentInvestigator?.san || 0;\n    const penalty = depth * 5;\n    const survivalRate = Math.max(5, Math.min(100, san - penalty)); \n    const escapeRate = 5;\n\n    return (\n        <div className=\"max-w-6xl mx-auto mt-4 grid grid-cols-1 lg:grid-cols-12 gap-6 animate-in zoom-in-95 duration-500\">\n            \n            {/* Â∑¶ÂÅ¥ÂêçÂñÆ */}\n            <Card className=\"lg:col-span-3 bg-slate-900/90 border-slate-700 h-[600px] flex flex-col shadow-2xl backdrop-blur-sm\">\n                <CardHeader className=\"pb-2 bg-slate-950/50\"><CardTitle className=\"text-slate-200 text-sm uppercase tracking-wider\">{t.list_title}</CardTitle></CardHeader>\n                <div className=\"flex-1 overflow-y-auto p-3 space-y-2 custom-scrollbar\">\n                    {investigators.map((inv: any) => (\n                        <div key={inv.id} onClick={() => setSelectedId(inv.id)} className={`p-2 rounded-lg cursor-pointer border transition-all flex items-center gap-3 relative ${currentInvestigator?.id === inv.id ? \"border-indigo-500 bg-indigo-900/20\" : \"border-slate-800 hover:bg-slate-800/50\"} ${inv.is_mad ? \"opacity-50 grayscale\" : \"\"}`}>\n                            <div className=\"w-8 h-8 rounded-full overflow-hidden bg-slate-950 border border-slate-600\"><img src={getImageUrl(inv)} className=\"w-full h-full object-cover\" /></div>\n                            <div className=\"overflow-hidden\"><div className=\"font-bold text-xs text-slate-200 truncate w-24\">{inv.name}</div><span className=\"text-[10px] text-slate-400 block font-mono\">{inv.is_mad ? \"KIA\" : `SAN: ${inv.san}`}</span></div>\n                        </div>\n                    ))}\n                    <Button onClick={mint} disabled={loading} className=\"w-full mt-4 bg-emerald-600 hover:bg-emerald-500 text-xs h-8 shadow-lg\">{t.recruit_btn}</Button>\n                </div>\n            </Card>\n\n            {/* ‰∏≠ÈñìÔºöËßíËâ≤ÂÑÄË°®Êùø */}\n            <Card className=\"lg:col-span-5 bg-slate-900/90 border-slate-700 shadow-2xl relative overflow-hidden backdrop-blur-sm h-[600px] flex flex-col\">\n                <div className=\"absolute top-0 right-0 w-full h-1 bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500\"></div>\n                <CardHeader className=\"bg-slate-950/80 border-b border-slate-800 pb-4\">\n                    <CardTitle className=\"text-slate-100 flex justify-between items-center\">\n                        <span className=\"flex items-center gap-2\"><User size={18} className=\"text-indigo-400\"/> {currentInvestigator?.name || \"No Selection\"}</span>\n                        {currentInvestigator && <span className=\"text-xs font-mono bg-slate-800 px-2 py-1 rounded text-slate-400 border border-slate-700\">ID: {currentInvestigator.id.slice(0,6)}...</span>}\n                    </CardTitle>\n                </CardHeader>\n                <CardContent className=\"flex-1 p-6 flex flex-col gap-6 overflow-y-auto\">\n                    {currentInvestigator ? (\n                        <>\n                            <div className=\"flex gap-4 items-center\">\n                                 <div className={`relative w-24 h-24 rounded-lg overflow-hidden border-2 shadow-xl shrink-0 ${currentInvestigator.is_mad ? 'border-red-600 animate-pulse' : 'border-indigo-400'}`}>\n                                    <img src={getImageUrl(currentInvestigator)} className=\"w-full h-full object-cover\" />\n                                    {currentInvestigator.is_mad && <div className=\"absolute inset-0 bg-red-900/60 flex items-center justify-center\"><span className=\"text-xs font-bold text-white bg-red-600 px-1 transform -rotate-12\">DECEASED</span></div>}\n                                 </div>\n                                 <div className=\"flex-1 space-y-2\">\n                                    <div className=\"flex justify-between text-xs text-slate-400 uppercase font-bold tracking-wider\"><span>Sanity Level</span><span>{currentInvestigator.san} / {currentInvestigator.max_san}</span></div>\n                                    <Progress value={(currentInvestigator.san / currentInvestigator.max_san) * 100} className={`h-2 bg-slate-800 ${currentInvestigator.is_mad ? \"[&>div]:bg-red-600\" : \"[&>div]:bg-indigo-500\"}`}/>\n                                    <div className=\"flex justify-between mt-2\">\n                                        <div className=\"text-xs bg-black/40 px-2 py-1 rounded border border-slate-700 text-yellow-400 font-mono flex items-center gap-1 shadow-md\"><Fingerprint size={12}/> {currentInvestigator.exp} MIST</div>\n                                        <div className=\"text-xs bg-black/40 px-2 py-1 rounded border border-slate-700 text-purple-400 font-mono flex items-center gap-1 shadow-md\"><Brain size={12}/> {currentInvestigator.clues || 0} Clues</div>\n                                    </div>\n                                 </div>\n                            </div>\n                            <div className=\"grid grid-cols-2 gap-3\">\n                                <div className=\"bg-slate-950/50 p-3 rounded border border-slate-800 flex justify-between items-center shadow-sm\"><span className=\"text-xs text-slate-500 font-bold\">STR</span><span className=\"text-lg font-mono text-orange-400\">{currentInvestigator.str}</span></div>\n                                <div className=\"bg-slate-950/50 p-3 rounded border border-slate-800 flex justify-between items-center shadow-sm\"><span className=\"text-xs text-slate-500 font-bold\">DEX</span><span className=\"text-lg font-mono text-green-400\">{currentInvestigator.dex}</span></div>\n                                <div className=\"bg-slate-950/50 p-3 rounded border border-slate-800 flex justify-between items-center shadow-sm\"><span className=\"text-xs text-slate-500 font-bold\">SAN</span><span className=\"text-lg font-mono text-blue-400\">{currentInvestigator.san}</span></div>\n                                <div className=\"bg-slate-950/50 p-3 rounded border border-slate-800 flex justify-between items-center shadow-sm opacity-60\"><span className=\"text-xs text-slate-500 font-bold\">LUK</span><span className=\"text-lg font-mono text-gray-400\">50</span></div>\n                            </div>\n                            <div className=\"bg-slate-950 p-3 rounded border border-slate-800 space-y-2 shadow-inner\">\n                                <div className=\"flex justify-between items-center text-xs\"><span className=\"text-slate-500 flex items-center gap-1\"><MapPin size={12}/> Depth</span><span className=\"text-red-400 font-mono font-bold text-sm\">B{currentInvestigator.loop_depth}F</span></div>\n                                <div className=\"flex justify-between items-center text-xs\"><span className=\"text-slate-500 flex items-center gap-1\"><Activity size={12}/> Status</span><span className={`${currentInvestigator.is_mad?\"text-red-500\":\"text-emerald-500\"} font-mono font-bold`}>{currentInvestigator.is_mad ? \"CRITICAL\" : \"STABLE\"}</span></div>\n                            </div>\n                        </>\n                    ) : <div className=\"h-full flex flex-col items-center justify-center text-slate-600 gap-4\"><User size={48} opacity={0.2} /><div className=\"text-sm\">Select personnel</div></div>}\n                </CardContent>\n            </Card>\n\n            {/* Âè≥ÂÅ¥ÔºöÊéßÂà∂Èù¢Êùø */}\n            <Card className=\"lg:col-span-4 bg-slate-900/90 border-slate-700 shadow-2xl backdrop-blur-sm h-[600px] flex flex-col\">\n                <CardHeader className=\"bg-slate-950/80 border-b border-slate-800 pb-4\"><CardTitle className=\"text-slate-100 flex gap-2\"><Gamepad2 size={18}/> Action Panel</CardTitle></CardHeader>\n                <CardContent className=\"flex-1 p-6 flex flex-col gap-4 overflow-y-auto\">\n                    {currentInvestigator ? (\n                        currentInvestigator.active_scenario === 0 ? (\n                            <>\n                                {/* üî• Demo / Stress Test ÂçÄÂ°ä (Single + Batch) */}\n                                <div className=\"text-xs text-slate-400 mb-2 uppercase font-bold\">Demo / Stress Test</div>\n                                <div className=\"grid grid-cols-2 gap-3\">\n                                    <Button \n                                        onClick={singleSanityCheck} \n                                        disabled={loading||currentInvestigator.is_mad} \n                                        variant=\"outline\" \n                                        className=\"h-12 border-yellow-500/30 text-yellow-300 hover:bg-yellow-950/50\"\n                                    >\n                                        üé≤ Single Check\n                                    </Button>\n                                    <Button \n                                        onClick={batchSanityCheck} \n                                        disabled={loading||currentInvestigator.is_mad} \n                                        className=\"h-12 bg-yellow-900/30 text-yellow-200 border border-yellow-800/50 hover:bg-yellow-900/60\"\n                                    >\n                                        üî• Batch (x3)\n                                    </Button>\n                                </div>\n\n                                <div className=\"border-t border-slate-800 my-2\"></div>\n                                <div className=\"text-xs text-slate-400 mb-2 uppercase font-bold\">Exploration</div>\n                                \n                                {/* Ê©üÁéáÈ°ØÁ§∫ */}\n                                <div className=\"bg-black/40 p-3 rounded border border-slate-700 mb-2 space-y-2\">\n                                    <div className=\"flex justify-between items-center text-xs\"><span className=\"flex items-center gap-1 text-slate-400\"><TrendingDown size={12}/> Survival</span><span className={`${survivalRate < 30 ? \"text-red-500\" : \"text-emerald-400\"} font-mono`}>{survivalRate}%</span></div>\n                                    <Progress value={survivalRate} className=\"h-1 bg-slate-800 [&>div]:bg-slate-500\"/>\n                                    <div className=\"flex justify-between items-center text-xs mt-1\"><span className=\"flex items-center gap-1 text-slate-400\"><AlertTriangle size={12}/> Escape</span><span className=\"text-yellow-500 font-mono\">{escapeRate}%</span></div>\n                                </div>\n\n                                <Button onClick={playQuick} disabled={loading||currentInvestigator.is_mad} className=\"h-20 bg-slate-800 border-slate-700 hover:bg-slate-700 flex flex-col gap-1 items-start pl-4 shadow-lg w-full mb-3\"><span className=\"text-lg text-white\">{t.act_quick}</span><span className=\"text-xs text-slate-400\">{t.act_quick_desc}</span></Button>\n                                <Button onClick={playManualStart} disabled={loading||currentInvestigator.is_mad} className=\"h-20 bg-indigo-900/40 border-indigo-500/40 hover:bg-indigo-900/60 flex flex-col gap-1 items-start pl-4 shadow-lg w-full\"><span className=\"text-lg text-indigo-100\">{t.act_manual}</span><span className=\"text-xs text-indigo-400\">{t.act_manual_desc}</span></Button>\n                                \n                                {/* Èõ¢ËÅ∑ÊåâÈàï */}\n                                <div className=\"border-t border-slate-800 my-2\"></div>\n                                <div className=\"text-xs text-red-400 mb-2 uppercase font-bold\">Career End</div>\n                                <Button onClick={resign} disabled={loading || currentInvestigator.is_mad} className=\"w-full bg-red-900/20 border border-red-900/50 hover:bg-red-900/40 text-red-400 h-10 text-xs\">üíî Submit Resignation (Burn NFT)</Button>\n                            </>\n                        ) : (\n                            <div className=\"bg-black/60 p-6 rounded-lg border border-red-500/30 shadow-[0_0_30px_rgba(220,38,38,0.1)] flex-1 flex flex-col justify-center\">\n                                <p className=\"text-red-400 text-center text-lg font-bold mb-8 animate-pulse\">{t.warn_loop}</p>\n                                <div className=\"space-y-3\">\n                                    <Button onClick={() => playManualAction(1)} disabled={loading} className=\"w-full h-14 bg-slate-800 hover:bg-slate-700 border border-slate-600 flex justify-between px-6\"><span className=\"text-xl\">üèÉ</span><span className=\"font-bold text-sm text-slate-200\">{t.choice_run}</span></Button>\n                                    <Button onClick={() => playManualAction(2)} disabled={loading} className=\"w-full h-14 bg-slate-800 hover:bg-slate-700 border border-slate-600 flex justify-between px-6\"><span className=\"text-xl\">ü´£</span><span className=\"font-bold text-sm text-slate-200\">{t.choice_hide}</span></Button>\n                                    <Button onClick={() => playManualAction(3)} disabled={loading} className=\"w-full h-14 bg-purple-900/40 hover:bg-purple-900/60 border border-purple-500/50 flex justify-between px-6\"><span className=\"text-xl\">üëÅÔ∏è</span><span className=\"font-bold text-sm text-purple-200\">{t.choice_gaze}</span></Button>\n                                </div>\n                            </div>\n                        )\n                    ) : <div className=\"text-center text-slate-600 mt-10\">Waiting for selection...</div>}\n                </CardContent>\n            </Card>\n        </div>\n    );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1730, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/GameDashboard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCurrentAccount, useSignAndExecuteTransaction, useIotaClient } from \"@iota/dapp-kit\";\nimport { Transaction } from \"@iota/iota-sdk/transactions\";\nimport { useState, useEffect, useRef } from \"react\";\nimport { toast } from \"sonner\";\nimport { PACKAGE_ID, MODULE_NAME, RANDOM_OBJECT_ID } from \"@/utils/constants\";\nimport { TEXTS, processLog, Lang } from \"@/utils/localization\";\nimport { CinematicText } from \"@/components/shared/CinematicText\";\nimport { HistorySection } from \"@/components/game/HistorySection\";\nimport { LeaderboardSection } from \"@/components/game/LeaderboardSection\";\nimport { SimulationView } from \"@/components/game/SimulationView\";\nimport { Button } from \"@/components/ui/button\";\n\n// Chart.js Ë®ªÂÜä\nimport {\n  Chart as ChartJS, RadialLinearScale, PointElement, LineElement, Filler, Tooltip, Legend, ArcElement, CategoryScale, LinearScale, BarElement\n} from 'chart.js';\nChartJS.register(RadialLinearScale, PointElement, LineElement, Filler, Tooltip, Legend, ArcElement, CategoryScale, LinearScale, BarElement);\n\n// AdventureOverlay ‰øùÊåÅ‰∏çËÆäÔºåÂè™Ë≤†Ë≤¨È°ØÁ§∫Áï∂‰∏ãÁöÑÂÜíÈö™ Log\nfunction AdventureOverlay({ logs, onClose, outcome, lang }: { logs: string[], onClose: (ended: boolean, outcome: string) => void, outcome: string, lang: Lang }) {\n    const [displayLogs, setDisplayLogs] = useState<string[]>([]);\n    const [currentIndex, setCurrentIndex] = useState(0);\n    const bottomRef = useRef<HTMLDivElement>(null);\n    useEffect(() => { if (currentIndex < logs.length) { const timer = setTimeout(() => { setDisplayLogs(prev => [...prev, processLog(logs[currentIndex], lang)]); setCurrentIndex(prev => prev + 1); }, 800); return () => clearTimeout(timer); } }, [currentIndex, logs]);\n    useEffect(() => { bottomRef.current?.scrollIntoView({ behavior: \"smooth\" }); }, [displayLogs]);\n    const isFinished = currentIndex >= logs.length;\n    const isFinalEnding = outcome === \"MADNESS\" || outcome === \"Escaped\" || outcome === \"Madness\" || outcome === \"Resigned\";\n    return (\n        <div className=\"fixed inset-0 z-50 bg-black/95 flex flex-col items-center justify-center p-6 animate-in fade-in duration-300\">\n            <div className=\"max-w-2xl w-full h-[80vh] flex flex-col gap-4 border-x border-slate-800 bg-slate-950/50\">\n                <div className=\"p-4 border-b border-slate-800 bg-slate-900\"><h2 className=\"text-xl font-mono text-green-500 flex items-center gap-2\"><span className=\"animate-pulse\">‚óè</span> TRPG LOG</h2></div>\n                <div className=\"flex-1 overflow-y-auto p-6 font-mono text-base space-y-4 custom-scrollbar\">\n                    {displayLogs.map((log, idx) => (<div key={idx} className=\"border-l-2 border-slate-700 pl-4 py-2 animate-in slide-in-from-left-2 fade-in\"><span className=\"text-slate-300\">{log}</span></div>))}\n                    <div ref={bottomRef} />\n                </div>\n                {isFinished && <div className=\"p-6 border-t border-slate-800 flex justify-center bg-slate-900\"><Button onClick={() => onClose(isFinalEnding, outcome)} className=\"w-full max-w-sm bg-slate-100 text-black hover:bg-white font-bold text-lg h-12\">{outcome === \"Looping\" ? \"üîÑ Continue\" : \"üö™ Close\"}</Button></div>}\n            </div>\n        </div>\n    );\n}\n\nexport function GameDashboard({ lang }: { lang: Lang }) {\n  const account = useCurrentAccount();\n  const client = useIotaClient();\n  const { mutate: signAndExecuteTransaction } = useSignAndExecuteTransaction();\n\n  const [loading, setLoading] = useState(false);\n  const [investigators, setInvestigators] = useState<any[]>([]);\n  const [selectedId, setSelectedId] = useState<string | null>(null);\n  const [adventureData, setAdventureData] = useState<any>(null);\n  const [showIntro, setShowIntro] = useState(true);\n  const [outroType, setOutroType] = useState<any>(\"none\");\n  \n  // üî• ‰øÆÊ≠£ 1: ‰ΩøÁî®ÂåÖÂê´ PACKAGE_ID ÁöÑ KeyÔºåÁ¢∫‰øùÊèõÂêàÁ¥ÑÂæå Log ‰∏çÊúÉÊ∑∑Ê∑Ü\n  const STORAGE_KEY = `iota_trpg_history_${PACKAGE_ID}`; \n  const [history, setHistory] = useState<any[]>([]);\n\n  useEffect(() => { \n      const saved = localStorage.getItem(STORAGE_KEY); \n      if (saved) try { setHistory(JSON.parse(saved)); } catch (e) {} \n  }, []);\n\n  const currentInvestigator = investigators.find(i => i.id === selectedId);\n  const t = TEXTS[lang]; \n\n  // üî• ‰øÆÊ≠£ 2: ÂÑ≤Â≠ò History ÊôÇÔºåÂä†ÂÖ•ËßíËâ≤ ID ÂíåÂêçÁ®±\n  const addToHistory = (logs: string[], outcome: string) => { \n      if (!currentInvestigator) return;\n      \n      const newEntry = { \n          id: crypto.randomUUID(), // Áµ¶ Log ‰∏ÄÂÄãÂîØ‰∏Ä ID\n          timestamp: Date.now(), \n          logs, \n          outcome,\n          investigatorId: currentInvestigator.id, // Á∂ÅÂÆöËßíËâ≤ ID\n          investigatorName: currentInvestigator.name // Á∂ÅÂÆöËßíËâ≤ÂêçÁ®±\n      }; \n      \n      const newHistory = [newEntry, ...history]; // Êñ∞ÁöÑÂú®ÊúÄÂâç\n      setHistory(newHistory); \n      localStorage.setItem(STORAGE_KEY, JSON.stringify(newHistory)); \n  };\n\n  const fetchInvestigators = async () => {\n    if (!account) return;\n    const objects = await client.getOwnedObjects({ owner: account.address, options: { showType: true, showContent: true } });\n    const targetType = `${PACKAGE_ID}::${MODULE_NAME}::Investigator`;\n    const foundList = objects.data.filter((obj) => obj.data?.type === targetType).map((obj) => { if (obj.data?.content?.dataType === \"moveObject\") return { ...obj.data.content.fields, id: obj.data.objectId }; return null; }).filter(Boolean);\n    setInvestigators(foundList);\n    if (!selectedId && foundList.length > 0) setSelectedId(foundList[0].id);\n  };\n  useEffect(() => { fetchInvestigators(); }, [account]);\n\n  const executeScenarioTx = async (tx: Transaction) => { \n      setLoading(true); \n      tx.setGasBudget(100000000); \n      signAndExecuteTransaction({ transaction: tx, options: { showEffects: true, showEvents: true } }, { \n          onSuccess: async (result) => { \n              let events = result.events || []; \n              if (events.length === 0) { \n                  await new Promise(r => setTimeout(r, 2000)); \n                  try { \n                      const r = await client.getTransactionBlock({ digest: result.digest, options: { showEvents: true, showEffects: true } }); \n                      events = r.events || []; \n                  } catch (e) {} \n              } \n              const event = events.find(e => e.type.includes(\"ScenarioEvent\")); \n              if (event) { \n                  // È°ØÁ§∫ÂÜíÈö™Ë¶ñÁ™ó\n                  setAdventureData({ logs: event.parsedJson?.logs, outcome: event.parsedJson?.outcome }); \n                  // ÂØ´ÂÖ•Ê≠∑Âè≤Á¥ÄÈåÑ\n                  addToHistory(event.parsedJson?.logs, event.parsedJson?.outcome); \n              } \n              setLoading(false); \n          }, \n          onError: (e) => { toast.error(e.message); setLoading(false); } \n      }); \n  };\n  \n  const mint = () => { const tx = new Transaction(); tx.moveCall({ target: `${PACKAGE_ID}::${MODULE_NAME}::mint`, arguments: [ tx.object(RANDOM_OBJECT_ID), tx.pure.vector(\"u8\", Array.from(new TextEncoder().encode(\"Staff #\" + Math.floor(Math.random()*9000+1000)))) ] }); tx.setGasBudget(50000000); signAndExecuteTransaction({ transaction: tx, options: { showEffects: true, showEvents: true } }, { onSuccess: () => { setLoading(false); setTimeout(fetchInvestigators, 1000); setShowIntro(true); }, onError: (err) => { toast.error(err.message); setLoading(false); } }); };\n  \n  const resign = () => {\n      if (!currentInvestigator) return;\n      const tx = new Transaction();\n      tx.moveCall({ target: `${PACKAGE_ID}::${MODULE_NAME}::resign`, arguments: [tx.object(currentInvestigator.id)] });\n      tx.setGasBudget(50000000);\n      signAndExecuteTransaction({ transaction: tx, options: { showEffects: true, showEvents: true } }, {\n          onSuccess: (result) => { \n              setLoading(false); \n              toast.success(lang === 'zh' ? \"Èõ¢ËÅ∑ÊâãÁ∫åÂ∑≤ÂÆåÊàê (NFT Èä∑ÊØÄ)\" : \"Resignation Accepted (NFT Burned)\");\n              const logs = [\"=== HR Department ===\", \"Resignation letter received.\", \"NFT Access Card destroyed.\", \"You are free.\"];\n              setAdventureData({ logs, outcome: \"Resigned\" });\n              addToHistory(logs, \"Resigned\");\n              setTimeout(() => { fetchInvestigators(); setSelectedId(null); }, 1000);\n          },\n          onError: (err) => { toast.error(err.message); setLoading(false); }\n      });\n  };\n\n  const singleSanityCheck = () => { if(!currentInvestigator) return; const tx = new Transaction(); tx.moveCall({target:`${PACKAGE_ID}::${MODULE_NAME}::sanity_check`, arguments:[tx.object(currentInvestigator.id), tx.object(RANDOM_OBJECT_ID)]}); executeScenarioTx(tx); };\n  const batchSanityCheck = () => { if(!currentInvestigator) return; const tx = new Transaction(); tx.moveCall({target:`${PACKAGE_ID}::${MODULE_NAME}::batch_sanity_check`, arguments:[tx.object(currentInvestigator.id), tx.object(RANDOM_OBJECT_ID)]}); executeScenarioTx(tx); };\n  const playQuick = () => { if(!currentInvestigator)return; const tx = new Transaction(); tx.moveCall({target:`${PACKAGE_ID}::${MODULE_NAME}::play_stairs_quick`,arguments:[tx.object(currentInvestigator.id),tx.object(RANDOM_OBJECT_ID)]}); executeScenarioTx(tx); };\n  const playManualStart = () => { if(!currentInvestigator)return; const tx = new Transaction(); tx.moveCall({target:`${PACKAGE_ID}::${MODULE_NAME}::manual_start`,arguments:[tx.object(currentInvestigator.id),tx.object(RANDOM_OBJECT_ID)]}); executeScenarioTx(tx); };\n  const playManualAction = (c:number) => { if(!currentInvestigator)return; const tx = new Transaction(); tx.moveCall({target:`${PACKAGE_ID}::${MODULE_NAME}::manual_resolve`,arguments:[tx.object(currentInvestigator.id),tx.object(RANDOM_OBJECT_ID),tx.pure.u8(c)]}); executeScenarioTx(tx); };\n  const getImageUrl = (inv: any) => inv?.is_mad ? \"/images/madness.png\" : \"/images/investigator.png\";\n\n  return (\n      <>\n          {showIntro && <CinematicText lines={t.intro_lines} onComplete={() => setShowIntro(false)} />}\n          {outroType !== \"none\" && <CinematicText lines={outroType===\"madness\"?t.outro_madness:t.outro_escaped} onComplete={() => setOutroType(\"none\")} isMadness={outroType===\"madness\"} />}\n          {adventureData && <AdventureOverlay logs={adventureData.logs} outcome={adventureData.outcome} lang={lang} onClose={(ended: boolean, outcome: string) => { setAdventureData(null); fetchInvestigators(); if (ended) setOutroType(outcome.toLowerCase().includes(\"mad\")?\"madness\":\"escaped\"); }} />}\n          \n          <div className=\"max-w-6xl mx-auto mt-8 px-4 pb-20 animate-in fade-in zoom-in-95 duration-500\">\n              <div className=\"text-center mb-8\"><h1 className=\"text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-indigo-600 font-serif tracking-widest uppercase mb-2\">{t.title}</h1><p className=\"text-slate-500 text-sm tracking-widest\">{t.subtitle}</p></div>\n              <SimulationView \n                  account={account} investigators={investigators} currentInvestigator={currentInvestigator} loading={loading} t={t}\n                  mint={mint} \n                  singleSanityCheck={singleSanityCheck} \n                  batchSanityCheck={batchSanityCheck} \n                  playQuick={playQuick} playManualStart={playManualStart} playManualAction={playManualAction}\n                  resign={resign} \n                  setSelectedId={setSelectedId} getImageUrl={getImageUrl} lang={lang}\n              />\n              <div className=\"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6\">\n                  {/* üî• Â∞áÁØ©ÈÅ∏ÈÅéÁöÑ History ÂÇ≥ÈÅûÈÄ≤Âéª (ÂèØÈÅ∏ÔºöÂ¶ÇÊûúË¶ÅÂÖ®È°ØÁ§∫Â∞±Áõ¥Êé•ÂÇ≥ history) */}\n                  <HistorySection history={history} lang={lang} />\n                  <LeaderboardSection client={client} lang={lang} />\n              </div>\n          </div>\n      </>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;;;;AAEA;AACA;AACA;AACA;AACA;AAEA,cAAc;AACd;AAfA;;;;;;;;;;;;;;AAkBA,4MAAO,CAAC,QAAQ,CAAC,wNAAiB,EAAE,mNAAY,EAAE,kNAAW,EAAE,6MAAM,EAAE,8MAAO,EAAE,6MAAM,EAAE,iNAAU,EAAE,oNAAa,EAAE,kNAAW,EAAE,iNAAU;AAE1I,uCAAuC;AACvC,SAAS,iBAAiB,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAuG;IAC3J,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,wPAAQ,EAAW,EAAE;IAC3D,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,wPAAQ,EAAC;IACjD,MAAM,YAAY,IAAA,sPAAM,EAAiB;IACzC,IAAA,yPAAS,EAAC;QAAQ,IAAI,eAAe,KAAK,MAAM,EAAE;YAAE,MAAM,QAAQ,WAAW;gBAAQ,eAAe,CAAA,OAAQ;2BAAI;wBAAM,WAAW,IAAI,CAAC,aAAa,EAAE;qBAAM;gBAAG,gBAAgB,CAAA,OAAQ,OAAO;YAAI,GAAG;YAAM,OAAO,IAAM,aAAa;QAAQ;IAAE,GAAG;QAAC;QAAc;KAAK;IACrQ,IAAA,yPAAS,EAAC;QAAQ,UAAU,OAAO,EAAE,eAAe;YAAE,UAAU;QAAS;IAAI,GAAG;QAAC;KAAY;IAC7F,MAAM,aAAa,gBAAgB,KAAK,MAAM;IAC9C,MAAM,gBAAgB,YAAY,aAAa,YAAY,aAAa,YAAY,aAAa,YAAY;IAC7G,qBACI,qRAAC;QAAI,WAAU;kBACX,cAAA,qRAAC;YAAI,WAAU;;8BACX,qRAAC;oBAAI,WAAU;8BAA6C,cAAA,qRAAC;wBAAG,WAAU;;0CAA2D,qRAAC;gCAAK,WAAU;0CAAgB;;;;;;4BAAQ;;;;;;;;;;;;8BAC7K,qRAAC;oBAAI,WAAU;;wBACV,YAAY,GAAG,CAAC,CAAC,KAAK,oBAAS,qRAAC;gCAAc,WAAU;0CAAgF,cAAA,qRAAC;oCAAK,WAAU;8CAAkB;;;;;;+BAAjI;;;;;sCAC1C,qRAAC;4BAAI,KAAK;;;;;;;;;;;;gBAEb,4BAAc,qRAAC;oBAAI,WAAU;8BAAiE,cAAA,qRAAC,mLAAM;wBAAC,SAAS,IAAM,QAAQ,eAAe;wBAAU,WAAU;kCAAiF,YAAY,YAAY,gBAAgB;;;;;;;;;;;;;;;;;;;;;;AAI1S;AAEO,SAAS,cAAc,EAAE,IAAI,EAAkB;IACpD,MAAM,UAAU,IAAA,yNAAiB;IACjC,MAAM,SAAS,IAAA,qNAAa;IAC5B,MAAM,EAAE,QAAQ,yBAAyB,EAAE,GAAG,IAAA,oOAA4B;IAE1E,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wPAAQ,EAAC;IACvC,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wPAAQ,EAAQ,EAAE;IAC5D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,wPAAQ,EAAgB;IAC5D,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wPAAQ,EAAM;IACxD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wPAAQ,EAAC;IAC3C,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wPAAQ,EAAM;IAEhD,iDAAiD;IACjD,MAAM,cAAc,CAAC,kBAAkB,EAAE,8KAAU,EAAE;IACrD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,wPAAQ,EAAQ,EAAE;IAEhD,IAAA,yPAAS,EAAC;QACN,MAAM,QAAQ,aAAa,OAAO,CAAC;QACnC,IAAI,OAAO,IAAI;YAAE,WAAW,KAAK,KAAK,CAAC;QAAS,EAAE,OAAO,GAAG,CAAC;IACjE,GAAG,EAAE;IAEL,MAAM,sBAAsB,cAAc,IAAI,CAAC,CAAA,IAAK,EAAE,EAAE,KAAK;IAC7D,MAAM,IAAI,KAAK,CAAC,KAAK;IAErB,oCAAoC;IACpC,MAAM,eAAe,CAAC,MAAgB;QAClC,IAAI,CAAC,qBAAqB;QAE1B,MAAM,WAAW;YACb,IAAI,OAAO,UAAU;YACrB,WAAW,KAAK,GAAG;YACnB;YACA;YACA,gBAAgB,oBAAoB,EAAE;YACtC,kBAAkB,oBAAoB,IAAI,CAAC,SAAS;QACxD;QAEA,MAAM,aAAa;YAAC;eAAa;SAAQ,EAAE,QAAQ;QACnD,WAAW;QACX,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;IACrD;IAEA,MAAM,qBAAqB;QACzB,IAAI,CAAC,SAAS;QACd,MAAM,UAAU,MAAM,OAAO,eAAe,CAAC;YAAE,OAAO,QAAQ,OAAO;YAAE,SAAS;gBAAE,UAAU;gBAAM,aAAa;YAAK;QAAE;QACtH,MAAM,aAAa,GAAG,8KAAU,CAAC,EAAE,EAAE,+KAAW,CAAC,cAAc,CAAC;QAChE,MAAM,YAAY,QAAQ,IAAI,CAAC,MAAM,CAAC,CAAC,MAAQ,IAAI,IAAI,EAAE,SAAS,YAAY,GAAG,CAAC,CAAC;YAAU,IAAI,IAAI,IAAI,EAAE,SAAS,aAAa,cAAc,OAAO;gBAAE,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM;gBAAE,IAAI,IAAI,IAAI,CAAC,QAAQ;YAAC;YAAG,OAAO;QAAM,GAAG,MAAM,CAAC;QACpO,iBAAiB;QACjB,IAAI,CAAC,cAAc,UAAU,MAAM,GAAG,GAAG,cAAc,SAAS,CAAC,EAAE,CAAC,EAAE;IACxE;IACA,IAAA,yPAAS,EAAC;QAAQ;IAAsB,GAAG;QAAC;KAAQ;IAEpD,MAAM,oBAAoB,OAAO;QAC7B,WAAW;QACX,GAAG,YAAY,CAAC;QAChB,0BAA0B;YAAE,aAAa;YAAI,SAAS;gBAAE,aAAa;gBAAM,YAAY;YAAK;QAAE,GAAG;YAC7F,WAAW,OAAO;gBACd,IAAI,SAAS,OAAO,MAAM,IAAI,EAAE;gBAChC,IAAI,OAAO,MAAM,KAAK,GAAG;oBACrB,MAAM,IAAI,QAAQ,CAAA,IAAK,WAAW,GAAG;oBACrC,IAAI;wBACA,MAAM,IAAI,MAAM,OAAO,mBAAmB,CAAC;4BAAE,QAAQ,OAAO,MAAM;4BAAE,SAAS;gCAAE,YAAY;gCAAM,aAAa;4BAAK;wBAAE;wBACrH,SAAS,EAAE,MAAM,IAAI,EAAE;oBAC3B,EAAE,OAAO,GAAG,CAAC;gBACjB;gBACA,MAAM,QAAQ,OAAO,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,CAAC,QAAQ,CAAC;gBAC/C,IAAI,OAAO;oBACP,SAAS;oBACT,iBAAiB;wBAAE,MAAM,MAAM,UAAU,EAAE;wBAAM,SAAS,MAAM,UAAU,EAAE;oBAAQ;oBACpF,SAAS;oBACT,aAAa,MAAM,UAAU,EAAE,MAAM,MAAM,UAAU,EAAE;gBAC3D;gBACA,WAAW;YACf;YACA,SAAS,CAAC;gBAAQ,wLAAK,CAAC,KAAK,CAAC,EAAE,OAAO;gBAAG,WAAW;YAAQ;QACjE;IACJ;IAEA,MAAM,OAAO;QAAQ,MAAM,KAAK,IAAI,yOAAW;QAAI,GAAG,QAAQ,CAAC;YAAE,QAAQ,GAAG,8KAAU,CAAC,EAAE,EAAE,+KAAW,CAAC,MAAM,CAAC;YAAE,WAAW;gBAAE,GAAG,MAAM,CAAC,oLAAgB;gBAAG,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,MAAM,IAAI,CAAC,IAAI,cAAc,MAAM,CAAC,YAAY,KAAK,KAAK,CAAC,KAAK,MAAM,KAAG,OAAK;aAAU;QAAC;QAAI,GAAG,YAAY,CAAC;QAAW,0BAA0B;YAAE,aAAa;YAAI,SAAS;gBAAE,aAAa;gBAAM,YAAY;YAAK;QAAE,GAAG;YAAE,WAAW;gBAAQ,WAAW;gBAAQ,WAAW,oBAAoB;gBAAO,aAAa;YAAO;YAAG,SAAS,CAAC;gBAAU,wLAAK,CAAC,KAAK,CAAC,IAAI,OAAO;gBAAG,WAAW;YAAQ;QAAE;IAAI;IAEpjB,MAAM,SAAS;QACX,IAAI,CAAC,qBAAqB;QAC1B,MAAM,KAAK,IAAI,yOAAW;QAC1B,GAAG,QAAQ,CAAC;YAAE,QAAQ,GAAG,8KAAU,CAAC,EAAE,EAAE,+KAAW,CAAC,QAAQ,CAAC;YAAE,WAAW;gBAAC,GAAG,MAAM,CAAC,oBAAoB,EAAE;aAAE;QAAC;QAC9G,GAAG,YAAY,CAAC;QAChB,0BAA0B;YAAE,aAAa;YAAI,SAAS;gBAAE,aAAa;gBAAM,YAAY;YAAK;QAAE,GAAG;YAC7F,WAAW,CAAC;gBACR,WAAW;gBACX,wLAAK,CAAC,OAAO,CAAC,SAAS,OAAO,qBAAqB;gBACnD,MAAM,OAAO;oBAAC;oBAAyB;oBAAgC;oBAA8B;iBAAgB;gBACrH,iBAAiB;oBAAE;oBAAM,SAAS;gBAAW;gBAC7C,aAAa,MAAM;gBACnB,WAAW;oBAAQ;oBAAsB,cAAc;gBAAO,GAAG;YACrE;YACA,SAAS,CAAC;gBAAU,wLAAK,CAAC,KAAK,CAAC,IAAI,OAAO;gBAAG,WAAW;YAAQ;QACrE;IACJ;IAEA,MAAM,oBAAoB;QAAQ,IAAG,CAAC,qBAAqB;QAAQ,MAAM,KAAK,IAAI,yOAAW;QAAI,GAAG,QAAQ,CAAC;YAAC,QAAO,GAAG,8KAAU,CAAC,EAAE,EAAE,+KAAW,CAAC,cAAc,CAAC;YAAE,WAAU;gBAAC,GAAG,MAAM,CAAC,oBAAoB,EAAE;gBAAG,GAAG,MAAM,CAAC,oLAAgB;aAAE;QAAA;QAAI,kBAAkB;IAAK;IACzQ,MAAM,mBAAmB;QAAQ,IAAG,CAAC,qBAAqB;QAAQ,MAAM,KAAK,IAAI,yOAAW;QAAI,GAAG,QAAQ,CAAC;YAAC,QAAO,GAAG,8KAAU,CAAC,EAAE,EAAE,+KAAW,CAAC,oBAAoB,CAAC;YAAE,WAAU;gBAAC,GAAG,MAAM,CAAC,oBAAoB,EAAE;gBAAG,GAAG,MAAM,CAAC,oLAAgB;aAAE;QAAA;QAAI,kBAAkB;IAAK;IAC9Q,MAAM,YAAY;QAAQ,IAAG,CAAC,qBAAoB;QAAQ,MAAM,KAAK,IAAI,yOAAW;QAAI,GAAG,QAAQ,CAAC;YAAC,QAAO,GAAG,8KAAU,CAAC,EAAE,EAAE,+KAAW,CAAC,mBAAmB,CAAC;YAAC,WAAU;gBAAC,GAAG,MAAM,CAAC,oBAAoB,EAAE;gBAAE,GAAG,MAAM,CAAC,oLAAgB;aAAE;QAAA;QAAI,kBAAkB;IAAK;IACnQ,MAAM,kBAAkB;QAAQ,IAAG,CAAC,qBAAoB;QAAQ,MAAM,KAAK,IAAI,yOAAW;QAAI,GAAG,QAAQ,CAAC;YAAC,QAAO,GAAG,8KAAU,CAAC,EAAE,EAAE,+KAAW,CAAC,cAAc,CAAC;YAAC,WAAU;gBAAC,GAAG,MAAM,CAAC,oBAAoB,EAAE;gBAAE,GAAG,MAAM,CAAC,oLAAgB;aAAE;QAAA;QAAI,kBAAkB;IAAK;IACpQ,MAAM,mBAAmB,CAAC;QAAe,IAAG,CAAC,qBAAoB;QAAQ,MAAM,KAAK,IAAI,yOAAW;QAAI,GAAG,QAAQ,CAAC;YAAC,QAAO,GAAG,8KAAU,CAAC,EAAE,EAAE,+KAAW,CAAC,gBAAgB,CAAC;YAAC,WAAU;gBAAC,GAAG,MAAM,CAAC,oBAAoB,EAAE;gBAAE,GAAG,MAAM,CAAC,oLAAgB;gBAAE,GAAG,IAAI,CAAC,EAAE,CAAC;aAAG;QAAA;QAAI,kBAAkB;IAAK;IAC7R,MAAM,cAAc,CAAC,MAAa,KAAK,SAAS,wBAAwB;IAExE,qBACI;;YACK,2BAAa,qRAAC,qMAAa;gBAAC,OAAO,EAAE,WAAW;gBAAE,YAAY,IAAM,aAAa;;;;;;YACjF,cAAc,wBAAU,qRAAC,qMAAa;gBAAC,OAAO,cAAY,YAAU,EAAE,aAAa,GAAC,EAAE,aAAa;gBAAE,YAAY,IAAM,aAAa;gBAAS,WAAW,cAAY;;;;;;YACpK,+BAAiB,qRAAC;gBAAiB,MAAM,cAAc,IAAI;gBAAE,SAAS,cAAc,OAAO;gBAAE,MAAM;gBAAM,SAAS,CAAC,OAAgB;oBAAsB,iBAAiB;oBAAO;oBAAsB,IAAI,OAAO,aAAa,QAAQ,WAAW,GAAG,QAAQ,CAAC,SAAO,YAAU;gBAAY;;;;;;0BAE5R,qRAAC;gBAAI,WAAU;;kCACX,qRAAC;wBAAI,WAAU;;0CAAmB,qRAAC;gCAAG,WAAU;0CAAsJ,EAAE,KAAK;;;;;;0CAAM,qRAAC;gCAAE,WAAU;0CAA0C,EAAE,QAAQ;;;;;;;;;;;;kCACpR,qRAAC,qMAAc;wBACX,SAAS;wBAAS,eAAe;wBAAe,qBAAqB;wBAAqB,SAAS;wBAAS,GAAG;wBAC/G,MAAM;wBACN,mBAAmB;wBACnB,kBAAkB;wBAClB,WAAW;wBAAW,iBAAiB;wBAAiB,kBAAkB;wBAC1E,QAAQ;wBACR,eAAe;wBAAe,aAAa;wBAAa,MAAM;;;;;;kCAElE,qRAAC;wBAAI,WAAU;;0CAEX,qRAAC,qMAAc;gCAAC,SAAS;gCAAS,MAAM;;;;;;0CACxC,qRAAC,6MAAkB;gCAAC,QAAQ;gCAAQ,MAAM;;;;;;;;;;;;;;;;;;;;AAK5D"}},
    {"offset": {"line": 2244, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/components/ResearchView.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Activity, History, PieChart, Layers, Dice5 } from \"lucide-react\";\nimport { Lang } from \"@/utils/localization\"; \n\n// --- üî• Chart.js ‰øÆÊ≠£ÔºöÂøÖÈ†àÂú®ÈÄôË£°ÂºïÂÖ•‰∏¶Ë®ªÂÜä ---\nimport {\n  Chart as ChartJS,\n  RadialLinearScale,\n  PointElement,\n  LineElement,\n  Filler,\n  Tooltip,\n  Legend,\n  ArcElement,\n  CategoryScale,\n  LinearScale,\n  BarElement\n} from 'chart.js';\nimport { Radar, Doughnut, Bar } from 'react-chartjs-2';\n\n// Ë®ªÂÜäÊâÄÊúâÈúÄË¶ÅÁöÑÂúñË°®ÂÖÉ‰ª∂\nChartJS.register(\n  RadialLinearScale, // Èõ∑ÈÅîÂúñÂøÖÈ†à\n  PointElement,\n  LineElement,\n  Filler,\n  Tooltip,\n  Legend,\n  ArcElement,      // ÂúìÈ§ÖÂúñÂøÖÈ†à\n  CategoryScale,   // Èï∑Ê¢ùÂúñÂøÖÈ†à\n  LinearScale,\n  BarElement\n);\n\n// --- üìö Á†îÁ©∂Â†±ÂëäÂ∞àÁî®Â≠óÂÖ∏ ---\nconst RESEARCH_TEXTS = {\n    zh: {\n        tabs: { analysis: \"Ê∫êÈ†≠ÂàÜÊûê\", evolution: \"ÊºîÂåñËÑàÁµ°\", architecture: \"Web3 Êû∂Êßã\" },\n        analysis_title: \"‰æÜÊ∫êÂàÜÊûêÔºö„Ää‰∫∫Ê†ºËß£È´î„ÄãËàá TRPG Á≥ªÁµ±\",\n        analysis_desc: \"Êú¨ÂçÄÂ°äÊãÜËß£Ê†∏ÂøÉÊ©üÂà∂„ÄÇË¶ÅÈÄ≤Ë°å Web3 ËΩâÂåñÔºåÂøÖÈ†àÂÖàÈáèÂåñ„ÄåËßíËâ≤Â±¨ÊÄß„ÄçËàá„ÄåÈö®Ê©üÊÄßÊ™¢ÂÆö„ÄçÔºåÈÄôÊòØÈèà‰∏äÈÇèËºØÁöÑÂü∫Á§é„ÄÇ\",\n        chart_radar_title: \"Ë™øÊü•Âì°Â±¨ÊÄßÊ®°Âûã\",\n        chart_radar_label: \"Ë™øÊü•Âì°Êï∏ÂÄº (ÂÅµÊé¢Ê®°Áâà)\",\n        radar_labels: ['STR ÂäõÈáè', 'CON È´îË≥™', 'SIZ È´îÂûã', 'DEX ÊïèÊç∑', 'APP Â§ñË≤å', 'INT Êô∫Âäõ', 'POW ÊÑèÂøó', 'EDU ÊïôËÇ≤'],\n        analysis_insight: \"GameFi ËßÄÈªûÔºöÈÄô‰∫õÊï∏ÂÄº (STR, INT, SAN) Â∞áÊàêÁÇ∫ NFT ÁöÑ Metadata„ÄÇÂú® IOTA EVM ‰∏äÔºåÈÄô‰∫õÂ±¨ÊÄß‰∏çÂèØÁØ°ÊîπÔºåÁõ¥Êé•ÂΩ±ÈüøÊô∫ËÉΩÂêàÁ¥ÑÁöÑÊ™¢ÂÆöÊ¢ù‰ª∂„ÄÇ\",\n        dice_title: \"D100 Ê™¢ÂÆöÊ©üÂà∂Ê®°Êì¨\",\n        dice_desc: \"Ê†∏ÂøÉÁé©Ê≥ïÂú®Êñº„ÄåÊäÄËÉΩÊ™¢ÂÆö„Äç„ÄÇÁ≥ªÁµ±ÁîüÊàê 1-100 ÁöÑÈö®Ê©üÊï∏ÔºåËã•Â∞èÊñºÊäÄËÉΩÂÄºÂâáÊàêÂäü„ÄÇÈèà‰∏äÈúÄÈÄèÈÅé 0x8::random Ê®°ÁµÑÂØ¶Áèæ„ÄÇ\",\n        dice_target: \"ÁõÆÊ®ôÊäÄËÉΩÂÄº\",\n        dice_btn: \"ÊäïÊì≤ D100\",\n        dice_status: { ready: \"Ê∫ñÂÇôÊ™¢ÂÆö\", crit: \"Â§ßÊàêÂäü! (Critical)\", fumble: \"Â§ßÂ§±Êïó! (Fumble)\", extreme: \"Ê•µÈõ£ÊàêÂäü (Extreme)\", hard: \"Âõ∞Èõ£ÊàêÂäü (Hard)\", success: \"ÊàêÂäü (Success)\", fail: \"Â§±Êïó (Failure)\" },\n        evo_title: \"ÊºîÂåñËÑàÁµ°ÔºöÂæûÊ°åÈù¢Âà∞ÂçÄÂ°äÈèà\",\n        evo_desc: \"GameFi ‰∏çÂÉÖÊòØÁé©Ë≥∫ÔºåËÄåÊòØËß£Ê±∫ TRPG„Äå‰ø°‰ªªÊàêÊú¨„ÄçËàá CRPG„ÄåË≥áÁî¢Â∞ÅÈñâ„ÄçÁöÑÂïèÈ°å„ÄÇ\",\n        evo_stages: [\n            { title: \"TRPG ÊôÇ‰ª£\", desc: [\"Ê•µÈ´òËá™Áî±Â∫¶ (ÊÉ≥ÂÉèÂäõ)\", \"‰æùË≥¥‰∫∫È°û‰∏ªÊåÅ (KP)\", \"‰ø°‰ªªÊ©üÂà∂ËñÑÂº±\"] },\n            { title: \"CRPG ÊôÇ‰ª£\", desc: [\"Ë¶ñË¶∫ÂåñÈ´îÈ©ó (Â¶Ç‰∫∫Ê†ºËß£È´î)\", \"Ëá™ÂãïÂåñË®àÁÆó (ÈªëÁõí)\", \"Ë≥áÁî¢ÁÑ°Ê≥ïÂ∏∂Âá∫ÈÅäÊà≤\"] },\n            { title: \"GameFi ÊôÇ‰ª£\", desc: [\"Ë¶èÂâáÊÄ™Ë´áÂåñ (ÂêàÁ¥ÑÂç≥Ë¶èÂâá)\", \"Ë≥áÁî¢‰∫íÈÄö (NFT Avatar)\", \"IOTA EVM ÂÖ¨Ê≠£Ê™¢ÂÆö\"] }\n        ],\n        evo_chart_labels: ['Êïò‰∫ãËá™Áî±Â∫¶', 'Ë¶ñË¶∫Ë°®Áèæ', 'Ë≥áÁî¢ÊâÄÊúâÊ¨ä', 'Ë¶èÂâáÈÄèÊòéÂ∫¶'],\n        evo_datasets: ['TRPG (Ê°å‰∏ä)', 'CRPG (‰∫∫Ê†ºËß£È´î)', 'GameFi (Web3)'],\n        arch_title: \"Web3 Á≥ªÁµ±Êû∂ÊßãÔºöIOTA EVM\",\n        arch_desc: \"ÈáùÂ∞ç„ÄåË¶èÂâáÊÄ™Ë´á„ÄçGameFi ÁöÑÊäÄË°ìÈÅ∏Âûã„ÄÇ‰ª• IOTA EVM ÁÇ∫‰∏ªÔºåNext.js ÁÇ∫ÂâçÁ´Ø„ÄÇ\",\n        stack_title: \"ÊäÄË°ìÂ†ÜÁñä (Tech Stack)\",\n        stack_layers: [\n            { name: \"ÊáâÁî®Â±§ (Next.js)\", desc: \"React Client: UI Ê∏≤Êüì„ÄÅÈå¢ÂåÖÈÄ£Êé•„ÄÅË¶ñË¶∫ÂèçÈ•ã\" },\n            { name: \"ÈÇèËºØÂ±§ (Contract)\", desc: \"Move Smart Contracts: Avatar NFT, Ë¶èÂâáÂºïÊìé, Èö®Ê©üÊï∏ÁîüÊàê\" },\n            { name: \"Êï∏ÊìöÂ±§ (Storage)\", desc: \"On-Chain Objects: ËßíËâ≤ÁãÄÊÖã„ÄÅ‰∫ã‰ª∂Á¥ÄÈåÑ (Events)\" }\n        ],\n        token_title: \"ÁîüÊÖãÁ≥ªÂÉπÂÄºÊµÅÂãï\",\n        token_labels: ['Áé©ÂÆ∂ÁçéÂãµÊ±† (P2E)', 'Ââµ‰ΩúËÄÖÂü∫Èáë (UGC)', 'ÁîüÊÖãÁ≥ªÁôºÂ±ï', 'ÊµÅÂãïÊÄßÊèê‰æõ', 'ÂúòÈöäËàáÊó©ÊúüÊäïË≥á'],\n        code_comment: \"// Ê°à‰æãÁ†îÁ©∂ÔºöË¶èÂâáÊÄ™Ë´áÁöÑÂêàÁ¥ÑÈÇèËºØ (Move)\"\n    },\n    en: {\n        tabs: { analysis: \"Source Analysis\", evolution: \"Evolution\", architecture: \"Web3 Arch\" },\n        analysis_title: \"Source Analysis: Depersonalization & TRPG\",\n        analysis_desc: \"Deconstructing core mechanics. To adapt for Web3, we must quantify 'Attributes' and 'RNG Checks', forming the basis of on-chain logic.\",\n        chart_radar_title: \"Investigator Attribute Model\",\n        chart_radar_label: \"Stats (Detective Template)\",\n        radar_labels: ['STR', 'CON', 'SIZ', 'DEX', 'APP', 'INT', 'POW', 'EDU'],\n        analysis_insight: \"GameFi Insight: These stats (STR, INT, SAN) become NFT Metadata. On IOTA EVM, they are immutable and directly influence smart contract checks.\",\n        dice_title: \"D100 Check Mechanism\",\n        dice_desc: \"Core gameplay relies on 'Skill Checks'. RNG 1-100; roll under skill to succeed. On-chain implementation requires 0x8::random.\",\n        dice_target: \"Target Skill\",\n        dice_btn: \"Roll D100\",\n        dice_status: { ready: \"Ready to Roll\", crit: \"Critical Success!\", fumble: \"Fumble!\", extreme: \"Extreme Success\", hard: \"Hard Success\", success: \"Success\", fail: \"Failure\" },\n        evo_title: \"Evolution: Tabletop to Blockchain\",\n        evo_desc: \"GameFi isn't just P2E; it solves TRPG's 'Trust Cost' and CRPG's 'Closed Assets' issues.\",\n        evo_stages: [\n            { title: \"TRPG Era\", desc: [\"High Freedom (Imagination)\", \"Relies on Human Host (KP)\", \"Weak Trust Mechanism\"] },\n            { title: \"CRPG Era\", desc: [\"Visualized Experience\", \"Automated calc (Blackbox)\", \"Assets locked in-game\"] },\n            { title: \"GameFi Era\", desc: [\"Contract as Rule (Weird)\", \"Interoperable Assets (NFT)\", \"Fair On-Chain Verification\"] }\n        ],\n        evo_chart_labels: ['Narrative Freedom', 'Visuals', 'Asset Ownership', 'Transparency'],\n        evo_datasets: ['TRPG (Tabletop)', 'CRPG (Digital)', 'GameFi (Web3)'],\n        arch_title: \"Web3 Architecture: IOTA EVM\",\n        arch_desc: \"Tech stack selection for 'Rules of Weird' GameFi. Based on IOTA EVM and Next.js.\",\n        stack_title: \"Tech Stack\",\n        stack_layers: [\n            { name: \"App Layer (Next.js)\", desc: \"React Client: Rendering, Wallet Connect, Visual Feedback\" },\n            { name: \"Logic Layer (Contract)\", desc: \"Move Smart Contracts: Avatar NFT, Rule Engine, RNG\" },\n            { name: \"Data Layer (Storage)\", desc: \"On-Chain Objects: Character State, Event Logs\" }\n        ],\n        token_title: \"Ecosystem Value Flow\",\n        token_labels: ['P2E Pool', 'UGC Fund', 'Ecosystem Growth', 'Liquidity', 'Team & Early Investors'],\n        code_comment: \"// Case Study: Rule Contract Logic (Move)\"\n    }\n};\n\nexport function ResearchView({ lang }: { lang: Lang }) {\n    // ÂÆâÂÖ®Ê™¢Êü•ÔºöÂ¶ÇÊûú lang Ê≤íÂÇ≥ÈÄ≤‰æÜÔºåÈ†êË®≠ÁÇ∫ 'zh'\n    const safeLang = lang || 'zh';\n    const activeTexts = RESEARCH_TEXTS[safeLang]; \n    const [activeSection, setActiveSection] = useState('analysis');\n    \n    // 1. Èõ∑ÈÅîÂúñÊï∏Êìö\n    const radarData = {\n        labels: activeTexts.radar_labels,\n        datasets: [{\n            label: activeTexts.chart_radar_label,\n            data: [50, 60, 55, 70, 60, 80, 50, 75],\n            backgroundColor: 'rgba(79, 70, 229, 0.2)',\n            borderColor: '#4f46e5',\n            borderWidth: 2,\n            pointBackgroundColor: '#fff',\n        }],\n    };\n    \n    // 2. Èï∑Ê¢ùÂúñÊï∏Êìö\n    const evolutionData = {\n        labels: activeTexts.evo_chart_labels,\n        datasets: [\n            { label: activeTexts.evo_datasets[0], data: [95, 20, 10, 60], backgroundColor: 'rgba(255, 255, 255, 0.2)' },\n            { label: activeTexts.evo_datasets[1], data: [70, 90, 30, 80], backgroundColor: 'rgba(52, 211, 153, 0.5)' },\n            { label: activeTexts.evo_datasets[2], data: [60, 75, 100, 100], backgroundColor: 'rgba(139, 92, 246, 0.5)' },\n        ]\n    };\n\n    // 3. ÂúìÈ§ÖÂúñÊï∏Êìö\n    const tokenomicsData = {\n        labels: activeTexts.token_labels,\n        datasets: [{\n            data: [40, 25, 15, 10, 10],\n            backgroundColor: ['#4f46e5', '#10b981', '#8b5cf6', '#0ea5e9', '#64748b'],\n            borderWidth: 0\n        }]\n    };\n\n    // È™∞Â≠êÊ®°Êì¨Âô®\n    const [diceResult, setDiceResult] = useState<string>(\"--\");\n    const [checkResult, setCheckResult] = useState<string>(activeTexts.dice_status.ready);\n    const [checkColor, setCheckColor] = useState(\"text-slate-500\");\n\n    const rollDice = () => {\n        let steps = 0;\n        const interval = setInterval(() => {\n            setDiceResult(String(Math.floor(Math.random() * 100) + 1));\n            steps++;\n            if (steps >= 10) {\n                clearInterval(interval);\n                const finalRoll = Math.floor(Math.random() * 100) + 1;\n                setDiceResult(String(finalRoll));\n                \n                if (finalRoll === 1) { setCheckResult(activeTexts.dice_status.crit); setCheckColor(\"text-yellow-400\"); }\n                else if (finalRoll === 100) { setCheckResult(activeTexts.dice_status.fumble); setCheckColor(\"text-red-500\"); }\n                else if (finalRoll <= 10) { setCheckResult(activeTexts.dice_status.extreme); setCheckColor(\"text-indigo-300\"); } \n                else if (finalRoll <= 25) { setCheckResult(activeTexts.dice_status.hard); setCheckColor(\"text-indigo-400\"); } \n                else if (finalRoll <= 50) { setCheckResult(activeTexts.dice_status.success); setCheckColor(\"text-emerald-400\"); }\n                else { setCheckResult(activeTexts.dice_status.fail); setCheckColor(\"text-red-400\"); }\n            }\n        }, 50);\n    };\n\n    return (\n        <div className=\"w-full max-w-7xl mx-auto p-4 space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-700\">\n            {/* Header Area */}\n            <div className=\"bg-slate-900/80 backdrop-blur-md border border-slate-700 p-6 rounded-xl shadow-2xl\">\n                <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6\">\n                    <div className=\"flex items-center gap-4\">\n                        <div className=\"w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center text-2xl font-bold shadow-inner text-white\">C</div>\n                        <div>\n                            <h2 className=\"text-2xl font-bold text-white tracking-wide\">Project Cthulhu-Fi</h2>\n                            <p className=\"text-slate-400 text-sm\">Research Terminal & Architecture Analysis</p>\n                        </div>\n                    </div>\n                    {/* ÂàÜÈ†ÅÊåâÈàï */}\n                    <div className=\"flex gap-2 bg-slate-950/50 p-1 rounded-lg border border-slate-800\">\n                        <button onClick={() => setActiveSection('analysis')} className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${activeSection === 'analysis' ? 'bg-indigo-600 text-white shadow-lg' : 'text-slate-400 hover:text-white hover:bg-slate-800'}`}>{activeTexts.tabs.analysis}</button>\n                        <button onClick={() => setActiveSection('evolution')} className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${activeSection === 'evolution' ? 'bg-indigo-600 text-white shadow-lg' : 'text-slate-400 hover:text-white hover:bg-slate-800'}`}>{activeTexts.tabs.evolution}</button>\n                        <button onClick={() => setActiveSection('architecture')} className={`px-4 py-2 rounded-md text-sm font-medium transition-all ${activeSection === 'architecture' ? 'bg-indigo-600 text-white shadow-lg' : 'text-slate-400 hover:text-white hover:bg-slate-800'}`}>{activeTexts.tabs.architecture}</button>\n                    </div>\n                </div>\n\n                {/* ÂÖßÂÆπÈ°ØÁ§∫ÂçÄ */}\n                <div className=\"min-h-[400px]\">\n                    \n                    {/* --- 1. Ê∫êÈ†≠ÂàÜÊûê --- */}\n                    {activeSection === 'analysis' && (\n                        <div className=\"space-y-6 animate-in fade-in\">\n                            <div className=\"border-l-4 border-indigo-500 pl-4 mb-4\">\n                                <h3 className=\"text-xl font-bold text-white\">{activeTexts.analysis_title}</h3>\n                                <p className=\"text-sm text-slate-400 mt-1\">{activeTexts.analysis_desc}</p>\n                            </div>\n\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                                <div className=\"bg-slate-950/50 p-6 rounded-xl border border-slate-700\">\n                                    <h3 className=\"text-lg font-semibold text-white mb-4 flex items-center gap-2\"><Activity size={18}/> {activeTexts.chart_radar_title}</h3>\n                                    <div className=\"h-[300px] flex items-center justify-center\">\n                                        <Radar data={radarData} options={{ scales: { r: { angleLines: { color: 'rgba(255,255,255,0.1)' }, grid: { color: 'rgba(255,255,255,0.1)' }, pointLabels: { color: '#cbd5e1', font: { size: 12 } }, suggestedMin: 0, suggestedMax: 100 } }, plugins: { legend: { display: false } } }} />\n                                    </div>\n                                    <p className=\"mt-4 text-xs text-slate-400 border-l-2 border-indigo-500 pl-2 bg-indigo-900/10 p-2 rounded\">\n                                        {activeTexts.analysis_insight}\n                                    </p>\n                                </div>\n                                \n                                <div className=\"bg-slate-950/50 p-6 rounded-xl border border-slate-700 flex flex-col justify-center items-center relative overflow-hidden\">\n                                    <div className=\"absolute top-0 right-0 p-4 opacity-10\"><Dice5 size={100} /></div>\n                                    <h3 className=\"text-lg font-semibold text-white mb-2\">{activeTexts.dice_title}</h3>\n                                    <p className=\"text-xs text-slate-500 mb-6 text-center px-4\">{activeTexts.dice_desc}</p>\n                                    \n                                    <div className=\"text-6xl font-mono font-bold text-white mb-2 animate-pulse text-shadow-glow\">{diceResult}</div>\n                                    <div className={`text-xl font-bold mb-6 ${checkColor}`}>{checkResult}</div>\n                                    \n                                    <div className=\"w-full px-10 mb-4\">\n                                        <div className=\"flex justify-between text-xs text-slate-400 mb-1\"><span>{activeTexts.dice_target}</span><span className=\"text-white font-bold\">50</span></div>\n                                        <div className=\"h-2 bg-slate-700 rounded-full overflow-hidden\"><div className=\"h-full bg-indigo-500 w-1/2\"></div></div>\n                                    </div>\n\n                                    <Button onClick={rollDice} className=\"w-full max-w-xs bg-indigo-600 hover:bg-indigo-500 text-white font-bold h-12 shadow-lg shadow-indigo-500/20\">\n                                        {activeTexts.dice_btn}\n                                    </Button>\n                                </div>\n                            </div>\n                        </div>\n                    )}\n\n                    {/* --- 2. ÊºîÂåñËÑàÁµ° --- */}\n                    {activeSection === 'evolution' && (\n                        <div className=\"bg-slate-950/50 p-6 rounded-xl border border-slate-700 animate-in fade-in space-y-6\">\n                            <div className=\"border-l-4 border-emerald-500 pl-4\">\n                                <h3 className=\"text-xl font-bold text-white\">{activeTexts.evo_title}</h3>\n                                <p className=\"text-sm text-slate-400 mt-1\">{activeTexts.evo_desc}</p>\n                            </div>\n\n                            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm\">\n                                {activeTexts.evo_stages.map((stage, idx) => (\n                                    <div key={idx} className=\"p-4 bg-slate-900 rounded border border-slate-700 hover:border-emerald-500 transition-colors group\">\n                                        <div className=\"text-4xl font-serif text-slate-700 font-bold mb-2 group-hover:text-emerald-500/50 transition-colors\">{[\"I\", \"II\", \"III\"][idx]}</div>\n                                        <strong className=\"text-emerald-400 block mb-2 text-lg\">{stage.title}</strong>\n                                        <ul className=\"text-slate-400 space-y-1 list-disc list-inside\">\n                                            {stage.desc.map((d, i) => <li key={i}>{d}</li>)}\n                                        </ul>\n                                    </div>\n                                ))}\n                            </div>\n\n                            <div className=\"h-[300px]\">\n                                <Bar data={evolutionData} options={{ indexAxis: 'y', responsive: true, maintainAspectRatio: false, scales: { x: { grid: { color: 'rgba(255,255,255,0.1)' } }, y: { grid: { display: false }, ticks: { color: '#cbd5e1' } } }, plugins: { legend: { labels: { color: '#cbd5e1' } } } }} />\n                            </div>\n                        </div>\n                    )}\n\n                    {/* --- 3. Web3 Êû∂Êßã --- */}\n                    {activeSection === 'architecture' && (\n                        <div className=\"space-y-6 animate-in fade-in\">\n                            <div className=\"border-l-4 border-violet-500 pl-4\">\n                                <h3 className=\"text-xl font-bold text-white\">{activeTexts.arch_title}</h3>\n                                <p className=\"text-sm text-slate-400 mt-1\">{activeTexts.arch_desc}</p>\n                            </div>\n\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                                {/* Stack Diagram */}\n                                <div className=\"bg-slate-950/50 p-6 rounded-xl border border-slate-700\">\n                                    <h3 className=\"text-lg font-bold text-violet-400 mb-4 flex items-center gap-2\"><Layers size={18}/> {activeTexts.stack_title}</h3>\n                                    <div className=\"space-y-4\">\n                                        {activeTexts.stack_layers.map((layer, idx) => (\n                                            <div key={idx} className=\"flex items-center\">\n                                                <div className=\"w-24 text-right text-xs font-bold text-slate-500 mr-4\">{layer.name.split(\" \")[0]}<br/>{layer.name.split(\" \")[1]}</div>\n                                                <div className={`flex-1 bg-slate-800 p-3 rounded border-l-4 ${idx===0?'border-blue-500':idx===1?'border-violet-500':'border-emerald-500'} text-sm text-slate-200 shadow-lg relative`}>\n                                                    <div className=\"font-bold text-blue-400\">{layer.name}</div>\n                                                    <div className=\"text-xs text-slate-400\">{layer.desc}</div>\n                                                </div>\n                                            </div>\n                                        ))}\n                                    </div>\n                                </div>\n\n                                {/* Tokenomics */}\n                                <div className=\"bg-slate-950/50 p-6 rounded-xl border border-slate-700 flex flex-col items-center\">\n                                    <h3 className=\"text-lg font-bold text-blue-400 mb-4 flex items-center gap-2\"><PieChart size={18}/> {activeTexts.token_title}</h3>\n                                    <div className=\"w-64 h-64\">\n                                        <Doughnut data={tokenomicsData} options={{ plugins: { legend: { position: 'bottom', labels: { color: '#cbd5e1', font: { size: 11 } } } } }} />\n                                    </div>\n                                </div>\n                            </div>\n\n                            {/* Code Snippet */}\n                            <div className=\"bg-slate-900 p-4 rounded-xl border border-slate-800 font-mono text-xs overflow-x-auto shadow-inner\">\n                                <div className=\"text-slate-500 mb-2\">{activeTexts.code_comment}</div>\n                                <div className=\"text-purple-400\">public fun <span className=\"text-blue-400\">interact_with_door</span>(player: &mut Investigator, door_color: String) &#123;</div>\n                                <div className=\"pl-4 text-slate-300\"><span className=\"text-slate-500\">// Rule: Red door sets SAN to 0</span></div>\n                                <div className=\"pl-4 text-purple-400\">if (door_color == b\"RED\") &#123;</div>\n                                <div className=\"pl-8 text-slate-300\">player.san = 0;</div>\n                                <div className=\"pl-8 text-slate-300\">player.is_mad = true;</div>\n                                <div className=\"pl-8 text-yellow-400\">event::emit(MadnessEvent &#123; reason: b\"VIOLATED_RULE_1\" &#125;);</div>\n                                <div className=\"pl-4 text-purple-400\">&#125; else &#123;</div>\n                                <div className=\"pl-8 text-slate-300\">player.exp = player.exp + 10;</div>\n                                <div className=\"pl-4 text-purple-400\">&#125;</div>\n                                <div className=\"text-purple-400\">&#125;</div>\n                            </div>\n                        </div>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3357, "column": 0}, "map": {"version":3,"sources":["file:///home/scv/iota-cthulhu-gamefi/client/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { ConnectButton } from \"@iota/dapp-kit\"; \nimport { BookOpen, Gamepad2, Globe } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { BGMPlayer } from \"@/components/shared/BGMPlayer\";\nimport { GameDashboard } from \"@/components/GameDashboard\";\nimport { ResearchView } from \"@/components/ResearchView\"; \nimport { Lang } from \"@/utils/localization\";\n\nexport default function Home() {\n  const [activeTab, setActiveTab] = useState<'research' | 'simulation'>('research');\n  const [lang, setLang] = useState<Lang>('zh');\n\n  return (\n    <div className=\"min-h-screen text-slate-100 font-sans selection:bg-indigo-500/30\">\n      \n      {/* üåå ÂÖ®ÂüüÂãïÊÖãËÉåÊôØ (‰ΩøÁî®ÂéüÁîü styleÔºåÁπûÈÅé Tailwind ËÆäÊï∏ÂïèÈ°å) */}\n      <div className=\"fixed inset-0 z-[-1] bg-black\">\n          \n          {/* Layer 1: Research Mode (ÁßëÊäÄËóç) */}\n          <div \n            className=\"absolute inset-0 transition-opacity duration-1000 ease-in-out\"\n            style={{\n                // ÈÄôË£°Áõ¥Êé•ÂØ´Ê≠ª CSS Êº∏Â±§Ôºå‰øùË≠âÁÄèË¶ΩÂô®ËÉΩËÆÄÊáÇ\n                background: 'radial-gradient(circle at top, #172554 0%, #0f172a 40%, #000000 100%)', // Blue-950 -> Slate-900 -> Black\n                opacity: activeTab === 'research' ? 1 : 0\n            }}\n          ></div>\n\n          {/* Layer 2: Simulation Mode (ÊÅêÊÄñÁ¥Ö) */}\n          <div \n            className=\"absolute inset-0 transition-opacity duration-1000 ease-in-out\"\n            style={{\n                // Áõ¥Êé•ÂØ´Ê≠ª CSS Êº∏Â±§\n                background: 'radial-gradient(circle at top, #450a0a 0%, #2e0202 40%, #000000 100%)', // Red-950 -> Darker Red -> Black\n                opacity: activeTab === 'simulation' ? 1 : 0\n            }}\n          ></div>\n\n          {/* Layer 3: Á∂≤Ê†ºÁ¥ãÁêÜ (Á¥î CSS) */}\n          <div \n            className=\"absolute inset-0 opacity-20 pointer-events-none\" \n            style={{ \n                backgroundImage: 'linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px)', \n                backgroundSize: '40px 40px' \n            }}\n          ></div>\n      </div>\n\n      <BGMPlayer />\n\n      {/* Â∞éËà™Âàó */}\n      <nav className=\"sticky top-0 z-40 w-full border-b border-white/10 bg-black/80 backdrop-blur-md px-4 py-3 flex justify-between items-center shadow-lg\">\n          {/* Â∑¶ÂÅ¥ LOGO */}\n          <div className=\"flex items-center gap-3\">\n              <div className=\"w-8 h-8 bg-gradient-to-br from-indigo-600 to-violet-600 rounded flex items-center justify-center font-bold text-white shadow-lg\">C</div>\n              <span className=\"font-bold tracking-wider text-slate-200 hidden md:inline\">Project Cthulhu-Fi</span>\n          </div>\n          \n          {/* ‰∏≠Èñì Tab ÂàáÊèõÂô® */}\n          <div className=\"flex bg-white/5 p-1 rounded-lg border border-white/10\">\n              <button \n                onClick={() => setActiveTab('research')} \n                className={`flex items-center gap-2 px-4 py-1.5 rounded-md text-sm font-medium transition-all ${activeTab === 'research' ? 'bg-indigo-600 text-white shadow-lg' : 'text-slate-400 hover:text-white hover:bg-white/10'}`}\n              >\n                  <BookOpen size={16} /> Research\n              </button>\n              <button \n                onClick={() => setActiveTab('simulation')} \n                className={`flex items-center gap-2 px-4 py-1.5 rounded-md text-sm font-medium transition-all ${activeTab === 'simulation' ? 'bg-red-700 text-white shadow-lg' : 'text-slate-400 hover:text-white hover:bg-white/10'}`}\n              >\n                  <Gamepad2 size={16} /> Simulation\n              </button>\n          </div>\n\n          {/* Âè≥ÂÅ¥ Â∑•ÂÖ∑Âàó (Ë™ûË®Ä + Èå¢ÂåÖ) */}\n          <div className=\"flex items-center gap-2\">\n              <Button variant=\"ghost\" size=\"sm\" onClick={() => setLang(l => l === 'zh' ? 'en' : 'zh')} className=\"text-slate-400 hover:text-white hover:bg-white/10\">\n                  <Globe size={18} /> <span className=\"ml-1 text-xs\">{lang.toUpperCase()}</span>\n              </Button>\n              <ConnectButton className=\"!bg-indigo-600 hover:!bg-indigo-700 text-white font-bold px-4 py-2 rounded\" />\n          </div>\n      </nav>\n\n      {/* ‰∏ªÂÖßÂÆπÂçÄ */}\n      <main className=\"relative\">\n          {activeTab === 'research' ? (\n              <ResearchView lang={lang} />\n          ) : (\n              <GameDashboard lang={lang} />\n          )}\n      </main>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AARA;;;;;;;;;AAWe,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wPAAQ,EAA4B;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,wPAAQ,EAAO;IAEvC,qBACE,qRAAC;QAAI,WAAU;;0BAGb,qRAAC;gBAAI,WAAU;;kCAGX,qRAAC;wBACC,WAAU;wBACV,OAAO;4BACH,yBAAyB;4BACzB,YAAY;4BACZ,SAAS,cAAc,aAAa,IAAI;wBAC5C;;;;;;kCAIF,qRAAC;wBACC,WAAU;wBACV,OAAO;4BACH,cAAc;4BACd,YAAY;4BACZ,SAAS,cAAc,eAAe,IAAI;wBAC9C;;;;;;kCAIF,qRAAC;wBACC,WAAU;wBACV,OAAO;4BACH,iBAAiB;4BACjB,gBAAgB;wBACpB;;;;;;;;;;;;0BAIN,qRAAC,6LAAS;;;;;0BAGV,qRAAC;gBAAI,WAAU;;kCAEX,qRAAC;wBAAI,WAAU;;0CACX,qRAAC;gCAAI,WAAU;0CAAkI;;;;;;0CACjJ,qRAAC;gCAAK,WAAU;0CAA2D;;;;;;;;;;;;kCAI/E,qRAAC;wBAAI,WAAU;;0CACX,qRAAC;gCACC,SAAS,IAAM,aAAa;gCAC5B,WAAW,CAAC,kFAAkF,EAAE,cAAc,aAAa,uCAAuC,qDAAqD;;kDAErN,qRAAC,iQAAQ;wCAAC,MAAM;;;;;;oCAAM;;;;;;;0CAE1B,qRAAC;gCACC,SAAS,IAAM,aAAa;gCAC5B,WAAW,CAAC,kFAAkF,EAAE,cAAc,eAAe,oCAAoC,qDAAqD;;kDAEpN,qRAAC,iQAAQ;wCAAC,MAAM;;;;;;oCAAM;;;;;;;;;;;;;kCAK9B,qRAAC;wBAAI,WAAU;;0CACX,qRAAC,mLAAM;gCAAC,SAAQ;gCAAQ,MAAK;gCAAK,SAAS,IAAM,QAAQ,CAAA,IAAK,MAAM,OAAO,OAAO;gCAAO,WAAU;;kDAC/F,qRAAC,oPAAK;wCAAC,MAAM;;;;;;oCAAM;kDAAC,qRAAC;wCAAK,WAAU;kDAAgB,KAAK,WAAW;;;;;;;;;;;;0CAExE,qRAAC,qNAAa;gCAAC,WAAU;;;;;;;;;;;;;;;;;;0BAKjC,qRAAC;gBAAK,WAAU;0BACX,cAAc,2BACX,qRAAC,yLAAY;oBAAC,MAAM;;;;;yCAEpB,qRAAC,2LAAa;oBAAC,MAAM;;;;;;;;;;;;;;;;;AAKnC"}}]
}